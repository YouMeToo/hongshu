var e = Object.defineProperty,
  __publicField = (o, t, n) => ((o, t, n) => t in o ? e(o, t, {
    enumerable: !0,
    configurable: !0,
    writable: !0,
    value: n
  }) : o[t] = n)(o, `\u0073\u0079\u006d\u0062\u006f\u006c` != typeof t ? t + `` : t, n);
const o = class _UseCounterStore {
  constructor() {
    __publicField(this, `\u0075\u0073\u0065\u0072\u0049\u0064`), __publicField(this, `\u0061\u0063\u0063\u0065\u0073\u0073\u0054\u006f\u006b\u0065\u006e`), __publicField(this, `\u0061\u0063\u0074\u0069\u0076\u0061\u0074\u0065\u0050\u0061\u0067\u0065`), __publicField(this, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0053\u0065\u0074\u0074\u0069\u006e\u0067`), __publicField(this, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0076\u0069\u0065\u0077\u0043\u006f\u0075\u006e\u0074`), __publicField(this, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0043\u006f\u006d\u006d\u0065\u006e\u0074\u0043\u006f\u0075\u006e\u0074`), __publicField(this, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u006c\u0069\u006b\u0065\u0043\u006f\u0075\u006e\u0074`), __publicField(this, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0066\u006f\u006c\u006c\u006f\u0077\u0043\u006f\u0075\u006e\u0074`), __publicField(this, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0063\u006f\u006c\u006c\u0065\u0063\u0074\u0043\u006f\u0075\u006e\u0074`), __publicField(this, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0077\u006f\u0072\u006b\u0053\u0074\u0061\u0074\u0075\u0073`), __publicField(this, `\u006c\u006f\u0061\u0064\u0065\u006e\u0064`), __publicField(this, `\u0063\u0068\u0072\u006f\u006d\u0065\u0054\u0061\u0062\u0049\u0064`), __publicField(this, `\u0069\u0073\u0044\u0065\u0062\u0075\u0067\u004d\u006f\u0064\u0065`), __publicField(this, `\u006f\u0070\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0054\u0069\u006d\u0065`), __publicField(this, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0073\u0065\u0061\u0072\u0063\u0068\u005f\u0072\u0075\u006e\u004e\u0075\u006d\u0062\u0065\u0072`), __publicField(this, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0061\u0076\u0067\u0054\u0069\u006d\u0065`), __publicField(this, `\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u0041\u0063\u0063\u006f\u0075\u006e\u0074\u0052\u0075\u006e\u0054\u006f\u0064\u0061\u0079\u0044\u0061\u0074\u0065`), __publicField(this, `\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u0041\u0063\u0063\u006f\u0075\u006e\u0074\u0049\u0064\u0073`), __publicField(this, `\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u0041\u0063\u0063\u006f\u0075\u006e\u0074\u0052\u0075\u006e\u0054\u006f\u0064\u0061\u0079\u004d\u0061\u0078\u004e\u0075\u006d`), __publicField(this, `\u0065\u0078\u0065\u0063\u0075\u0074\u0065\u004f\u0070\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0053\u0074\u0061\u0072\u0074\u0054\u0069\u006d\u0065`), __publicField(this, `\u0063\u006c\u0069\u0065\u006e\u0074\u0056\u0069\u0073\u0069\u0074\u006f\u0072\u0049\u0064`), __publicField(this, `\u0075\u0073\u0065\u0072\u0049\u006e\u0066\u006f\u0045\u006e\u0064\u0044\u0061\u0074\u0065`), __publicField(this, `\u0075\u0070\u0064\u0061\u0074\u0065\u0056\u0069\u0070\u0045\u006e\u0064\u0044\u0061\u0074\u0065`), this.userId = ``, this.accessToken = ``, this.activatePage = `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0053\u0065\u0074\u0074\u0069\u006e\u0067`, this.XiaoHongShu_Setting = `\u007b\u007d`, this.XiaoHongShu_viewCount = 0, this.XiaoHongShu_CommentCount = 0, this.XiaoHongShu_likeCount = 0, this.XiaoHongShu_followCount = 0, this.XiaoHongShu_collectCount = 0, this.XiaoHongShu_workStatus = `\u0072\u0075\u006e`, this.loadend = !1, this.chromeTabId = 0, this.isDebugMode = !1, this.operationTime = 0, this.XiaoHongShu_avgTime = 0, this.XiaoHongShu_search_runNumber = 1, this.xiaoHongShuAccountRunTodayDate = ``, this.xiaoHongShuAccountIds = new Set(), this.xiaoHongShuAccountRunTodayMaxNum = 3, this.executeOperationStartTime = 0, this.clientVisitorId = ``, this.userInfoEndDate = ``, this.updateVipEndDate = ``;
  }
  static getInstance() {
    return _UseCounterStore.instance || (_UseCounterStore.instance = new _UseCounterStore(), _UseCounterStore.instance.loadFromStorage()), _UseCounterStore.instance;
  }
  setOperationTime(e) {
    this.operationTime = e, chrome.storage.local.set({
      operationTime: this.operationTime
    });
  }
  setChromeTabId(e) {
    this.chromeTabId = e;
  }
  setUserId(e) {
    this.userId = e;
  }
  setAccessToken(e) {
    this.accessToken = e, chrome.storage.local.set({
      accessToken: this.accessToken
    });
  }
  set_updateVipEndDate(e) {
    this.updateVipEndDate = e, chrome.storage.local.set({
      updateVipEndDate: this.updateVipEndDate
    });
  }
  setUserInfoEndDate(e) {
    this.userInfoEndDate = e, chrome.storage.local.set({
      userInfoEndDate: e
    });
  }
  increment_XiaoHongShu_viewCount() {
    this.XiaoHongShu_viewCount++, chrome.storage.local.set({
      XiaoHongShu_viewCount: this.XiaoHongShu_viewCount
    });
  }
  increment_XiaoHongShu_CommentCount() {
    this.XiaoHongShu_CommentCount++, chrome.storage.local.set({
      XiaoHongShu_CommentCount: this.XiaoHongShu_CommentCount
    });
  }
  increment_XiaoHongShu_likeCount() {
    this.XiaoHongShu_likeCount++, chrome.storage.local.set({
      XiaoHongShu_likeCount: this.XiaoHongShu_likeCount
    });
  }
  increment_XiaoHongShu_followCount() {
    this.XiaoHongShu_followCount++, chrome.storage.local.set({
      XiaoHongShu_followCount: this.XiaoHongShu_followCount
    });
  }
  increment_XiaoHongShu_collectCount() {
    this.XiaoHongShu_collectCount++, chrome.storage.local.set({
      XiaoHongShu_collectCount: this.XiaoHongShu_collectCount
    });
  }
  isNotRunWork() {
    return console.log(`\u0069\u0073\u004e\u006f\u0074\u0052\u0075\u006e\u0057\u006f\u0072\u006b\u0020\u0061\u0063\u0074\u0069\u0076\u0061\u0074\u0065\u0050\u0061\u0067\u0065`, this.activatePage, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0052\u0075\u006e` != this.activatePage), `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0052\u0075\u006e` != this.activatePage;
  }
  setActivatePage(e) {
    console.log(`\u0073\u0065\u0074\u0041\u0063\u0074\u0069\u0076\u0061\u0074\u0065\u0050\u0061\u0067\u0065`, this.activatePage), this.activatePage = e;
  }
  setXiaoHongShu_workStatus(e) {
    this.XiaoHongShu_workStatus = e, chrome.storage.local.set({
      XiaoHongShu_workStatus: this.XiaoHongShu_workStatus
    });
  }
  setXiaoHongShu_avgTime(e) {
    this.XiaoHongShu_avgTime = e, chrome.storage.local.set({
      XiaoHongShu_avgTime: this.XiaoHongShu_avgTime
    });
  }
  setExecuteOperationStartTime(e) {
    this.executeOperationStartTime = e;
  }
  increment_XiaoHongShu_search_runNumber() {
    this.XiaoHongShu_search_runNumber += 1, chrome.storage.local.set({
      XiaoHongShu_search_runNumber: this.XiaoHongShu_search_runNumber
    });
  }
  increment_XiaoHongShuAccountRunTodayIds(e) {
    this.xiaoHongShuAccountIds.add(e);
    const o = JSON.stringify([...this.xiaoHongShuAccountIds]);
    console.log(`\u0069\u006e\u0063\u0072\u0065\u006d\u0065\u006e\u0074\u005f\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u0041\u0063\u0063\u006f\u0075\u006e\u0074\u0052\u0075\u006e\u0054\u006f\u0064\u0061\u0079\u0049\u0064\u0073\u0020\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u0041\u0063\u0063\u006f\u0075\u006e\u0074\u0049\u0064\u0073\u005f\u0073\u0074\u0072`, o, e, this.xiaoHongShuAccountIds), chrome.storage.local.set({
      xiaoHongShuAccountIds: o
    });
  }
  setXiaoHongShuAccountRunTodayIds(e) {
    this.xiaoHongShuAccountIds = e;
    const o = JSON.stringify([...this.xiaoHongShuAccountIds]);
    console.log(`\u0073\u0065\u0074\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u0041\u0063\u0063\u006f\u0075\u006e\u0074\u0052\u0075\u006e\u0054\u006f\u0064\u0061\u0079\u0049\u0064\u0073\u0020\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u0041\u0063\u0063\u006f\u0075\u006e\u0074\u0049\u0064\u0073\u005f\u0073\u0074\u0072`, o, e, this.xiaoHongShuAccountIds), chrome.storage.local.set({
      xiaoHongShuAccountIds: o
    });
  }
  setXiaoHongShuAccountRunTodayDate(e) {
    this.xiaoHongShuAccountRunTodayDate = e, chrome.storage.local.set({
      xiaoHongShuAccountRunTodayDate: this.xiaoHongShuAccountRunTodayDate
    });
  }
  setXiaoHongShuAccountErrorTip(e) {
    chrome.storage.local.set({
      xiaoHongShuAccountErrorTip: e
    });
  }
  setClientVisitorId(e) {
    this.clientVisitorId = e, chrome.storage.local.set({
      clientVisitorId: e
    });
  }
  checkLoadend() {
    let e = 0;
    return new Promise(o => {
      const t = setInterval(() => {
        (this.loadend || e > 60) && (e > 60 && console.error(`\u0063\u0068\u0065\u0063\u006b\u004c\u006f\u0061\u0064\u0065\u006e\u0064\u0020\u52a0\u8f7d\u8d85\u65f6`), clearInterval(t), o()), e++;
      }, 30);
    });
  }
  loadFromStorage() {
    chrome.storage.local.get([`\u0075\u0073\u0065\u0072\u0049\u0064`, `\u0061\u0063\u0063\u0065\u0073\u0073\u0054\u006f\u006b\u0065\u006e`, `\u0061\u0063\u0074\u0069\u0076\u0061\u0074\u0065\u0050\u0061\u0067\u0065`, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0053\u0065\u0074\u0074\u0069\u006e\u0067`, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0076\u0069\u0065\u0077\u0043\u006f\u0075\u006e\u0074`, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0043\u006f\u006d\u006d\u0065\u006e\u0074\u0043\u006f\u0075\u006e\u0074`, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u006c\u0069\u006b\u0065\u0043\u006f\u0075\u006e\u0074`, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0066\u006f\u006c\u006c\u006f\u0077\u0043\u006f\u0075\u006e\u0074`, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0063\u006f\u006c\u006c\u0065\u0063\u0074\u0043\u006f\u0075\u006e\u0074`, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0077\u006f\u0072\u006b\u0053\u0074\u0061\u0074\u0075\u0073`, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0061\u0076\u0067\u0054\u0069\u006d\u0065`, `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0073\u0065\u0061\u0072\u0063\u0068\u005f\u0072\u0075\u006e\u004e\u0075\u006d\u0062\u0065\u0072`, `\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u0041\u0063\u0063\u006f\u0075\u006e\u0074\u0052\u0075\u006e\u0054\u006f\u0064\u0061\u0079\u0044\u0061\u0074\u0065`, `\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u0041\u0063\u0063\u006f\u0075\u006e\u0074\u0049\u0064\u0073`, `\u0065\u0078\u0065\u0063\u0075\u0074\u0065\u004f\u0070\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0053\u0074\u0061\u0072\u0074\u0054\u0069\u006d\u0065`, `\u0063\u006c\u0069\u0065\u006e\u0074\u0056\u0069\u0073\u0069\u0074\u006f\u0072\u0049\u0064`], e => {
      console.log(`\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u0061\u0063\u0074\u0069\u0076\u0061\u0074\u0065\u0050\u0061\u0067\u0065`, e), void 0 !== e.userId && (this.userId = e.userId), void 0 !== e.accessToken && (this.accessToken = e.accessToken), void 0 !== e.activatePage && (this.activatePage = e.activatePage), void 0 !== e.XiaoHongShu_Setting && (this.XiaoHongShu_Setting = e.XiaoHongShu_Setting), void 0 !== e.XiaoHongShu_viewCount && (this.XiaoHongShu_viewCount = e.XiaoHongShu_viewCount), void 0 !== e.XiaoHongShu_CommentCount && (this.XiaoHongShu_CommentCount = e.XiaoHongShu_CommentCount), void 0 !== e.XiaoHongShu_likeCount && (this.XiaoHongShu_likeCount = e.XiaoHongShu_likeCount), void 0 !== e.XiaoHongShu_followCount && (this.XiaoHongShu_followCount = e.XiaoHongShu_followCount), void 0 !== e.XiaoHongShu_collectCount && (this.XiaoHongShu_collectCount = e.XiaoHongShu_collectCount), void 0 !== e.XiaoHongShu_workStatus && (this.XiaoHongShu_workStatus = e.XiaoHongShu_workStatus), void 0 !== e.XiaoHongShu_avgTime && (this.XiaoHongShu_avgTime = e.XiaoHongShu_avgTime), void 0 !== e.XiaoHongShu_search_runNumber && (this.XiaoHongShu_search_runNumber = e.XiaoHongShu_search_runNumber), void 0 !== e.xiaoHongShuAccountRunTodayDate && (this.xiaoHongShuAccountRunTodayDate = e.xiaoHongShuAccountRunTodayDate), void 0 !== e.xiaoHongShuAccountIds && e.xiaoHongShuAccountIds && (`\u0073\u0074\u0072\u0069\u006e\u0067` == typeof e.xiaoHongShuAccountIds ? this.xiaoHongShuAccountIds = new Set(JSON.parse(e.xiaoHongShuAccountIds)) : e.xiaoHongShuAccountIds instanceof Set ? this.xiaoHongShuAccountIds = e.xiaoHongShuAccountIds : e.xiaoHongShuAccountIds instanceof Array && (this.xiaoHongShuAccountIds = new Set(e.xiaoHongShuAccountIds))), void 0 !== e.executeOperationStartTime && (this.executeOperationStartTime = e.executeOperationStartTime), void 0 !== e.clientVisitorId && (this.clientVisitorId = e.clientVisitorId), this.loadend = !0;
    }), chrome.storage.onChanged.addListener((e, o) => {
      for (let [t, {
        oldValue: n,
        newValue: i
      }] of Object.entries(e)) switch (console.log(`\u0053\u0074\u006f\u0072\u0061\u0067\u0065\u0020\u006b\u0065\u0079\u0020\u0022${t}\u0022\u0020\u0069\u006e\u0020\u006e\u0061\u006d\u0065\u0073\u0070\u0061\u0063\u0065\u0020\u0022${o}\u0022\u0020\u0063\u0068\u0061\u006e\u0067\u0065\u0064\u002e`, `\u004f\u006c\u0064\u0020\u0076\u0061\u006c\u0075\u0065\u0020\u0077\u0061\u0073\u0020\u0022${n}\u0022\u002c\u0020\u006e\u0065\u0077\u0020\u0076\u0061\u006c\u0075\u0065\u0020\u0069\u0073\u0020\u0022${i}\u0022\u002e`), t) {
        case `\u0061\u0063\u0074\u0069\u0076\u0061\u0074\u0065\u0050\u0061\u0067\u0065`:
          this.setActivatePage(i);
          break;
        case `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u006c\u0069\u006b\u0065\u0043\u006f\u0075\u006e\u0074`:
          this.XiaoHongShu_likeCount = i;
          break;
        case `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0066\u006f\u006c\u006c\u006f\u0077\u0043\u006f\u0075\u006e\u0074`:
          this.XiaoHongShu_followCount = i;
          break;
        case `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0043\u006f\u006d\u006d\u0065\u006e\u0074\u0043\u006f\u0075\u006e\u0074`:
          this.XiaoHongShu_CommentCount = i;
          break;
        case `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0063\u006f\u006c\u006c\u0065\u0063\u0074\u0043\u006f\u0075\u006e\u0074`:
          this.XiaoHongShu_collectCount = i;
          break;
        case `\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0076\u0069\u0065\u0077\u0043\u006f\u0075\u006e\u0074`:
          this.XiaoHongShu_viewCount = i;
          break;
        case `\u0065\u0078\u0065\u0063\u0075\u0074\u0065\u004f\u0070\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0053\u0074\u0061\u0072\u0074\u0054\u0069\u006d\u0065`:
          this.executeOperationStartTime = i;
          break;
        case `\u0063\u006c\u0069\u0065\u006e\u0074\u0056\u0069\u0073\u0069\u0074\u006f\u0072\u0049\u0064`:
          this.clientVisitorId = i;
      }
    });
  }
};
__publicField(o, `\u0069\u006e\u0073\u0074\u0061\u006e\u0063\u0065`);
let t = o;
const n = t.getInstance(),
  i = t.getInstance();
if (i.isDebugMode = !1, !i.isDebugMode) {
  const e = console.log;
  console.log = (...o) => {
    i.isDebugMode && e(...o);
  };
}
if (!i.isDebugMode) {
  const e = console.error;
  console.error = (...o) => {
    i.isDebugMode && e(...o);
  };
}
if (!i.isDebugMode) {
  const e = console.info;
  console.info = (...o) => {
    i.isDebugMode && e(...o);
  };
}
const a = `\u0068\u0074\u0074\u0070\u0073\u003a\u002f\u002f\u0070\u006c\u0075\u0067\u0069\u006e\u002d\u0061\u0070\u0069\u002d\u0061\u0064\u006c\u0072\u0064\u006f\u006a\u0062\u0079\u0064\u002e\u0061\u0070\u002d\u006e\u006f\u0072\u0074\u0068\u0065\u0061\u0073\u0074\u002d\u0031\u002e\u0066\u0063\u0061\u0070\u0070\u002e\u0072\u0075\u006e`,
  s = `\u0068\u0074\u0074\u0070\u0073\u003a\u002f\u002f\u0064\u0069\u0066\u0079\u002e\u0066\u0073\u006f\u0074\u006f\u006f\u006c\u002e\u0063\u006f\u006d`,
  r = `\u0068\u0074\u0074\u0070\u0073\u003a\u002f\u002f\u0067\u006c\u006f\u0062\u0061\u006c\u002d\u0061\u0075\u0074\u0068\u002e\u0070\u0065\u0074\u0072\u006f\u006e\u002e\u0061\u0069`;
async function runWorkflow(e, o) {
  const t = s + `\u002f\u0076\u0031\u002f\u0077\u006f\u0072\u006b\u0066\u006c\u006f\u0077\u0073\u002f\u0072\u0075\u006e`,
    n = {
      Authorization: `\u0042\u0065\u0061\u0072\u0065\u0072\u0020\u0061\u0070\u0070\u002d\u0073\u0057\u0045\u004f\u0037\u0062\u0045\u0063\u0072\u0033\u0075\u0030\u004d\u0045\u0045\u0065\u0053\u0035\u0051\u0047\u006a\u0053\u004b\u0057`,
      "Content-Type": `\u0061\u0070\u0070\u006c\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u002f\u006a\u0073\u006f\u006e`
    },
    i = {
      inputs: e,
      response_mode: `\u0062\u006c\u006f\u0063\u006b\u0069\u006e\u0067`,
      files: o,
      user: `\u0061\u0062\u0063\u002d\u0031\u0032\u0033`
    };
  try {
    const e = await fetch(t, {
      method: `\u0050\u004f\u0053\u0054`,
      headers: n,
      body: JSON.stringify(i)
    });
    if (!e.ok) return console.error(`\u0048\u0054\u0054\u0050\u0020\u0065\u0072\u0072\u006f\u0072\u0021\u0020\u0073\u0074\u0061\u0074\u0075\u0073\u003a\u0020${e.status}`), void sendLog(`\u751f\u6210\u8bc4\u8bba\u9519\u8bef` + e.status);
    const o = await e.json();
    let a = ``;
    return o && o.data && o.data.outputs && o.data.outputs.result && (a = o.data.outputs.result), console.log(`\u0072\u0065\u0073\u0075\u006c\u0074`, o), a;
  } catch (a) {
    console.error(`\u0045\u0072\u0072\u006f\u0072\u003a`, a), sendLog(`\u751f\u6210\u8bc4\u8bba\u9519\u8bef` + a);
  }
}
async function runWorkflowVideoReviews(e, o) {
  const t = s + `\u002f\u0076\u0031\u002f\u0077\u006f\u0072\u006b\u0066\u006c\u006f\u0077\u0073\u002f\u0072\u0075\u006e`,
    n = {
      Authorization: `\u0042\u0065\u0061\u0072\u0065\u0072\u0020\u0061\u0070\u0070\u002d\u0063\u006d\u0068\u004e\u0072\u004c\u0054\u0043\u0077\u0065\u007a\u0075\u0075\u005a\u0032\u0058\u0056\u0047\u0056\u0031\u0072\u0056\u0038\u0075`,
      "Content-Type": `\u0061\u0070\u0070\u006c\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u002f\u006a\u0073\u006f\u006e`
    },
    i = {
      inputs: e,
      response_mode: `\u0062\u006c\u006f\u0063\u006b\u0069\u006e\u0067`,
      files: o,
      user: `\u0061\u0062\u0063\u002d\u0031\u0032\u0033`
    };
  try {
    const e = await fetch(t, {
      method: `\u0050\u004f\u0053\u0054`,
      headers: n,
      body: JSON.stringify(i)
    });
    if (!e.ok) return console.error(`\u0048\u0054\u0054\u0050\u0020\u0065\u0072\u0072\u006f\u0072\u0021\u0020\u0073\u0074\u0061\u0074\u0075\u0073\u003a\u0020${e.status}`), void sendLog(`\u751f\u6210\u8bc4\u8bba\u9519\u8bef` + e.status);
    const o = await e.json();
    let a = ``;
    return o && o.data && o.data.outputs && o.data.outputs.text && (a = o.data.outputs.text), console.log(`\u0072\u0065\u0073\u0075\u006c\u0074`, o), a;
  } catch (a) {
    console.error(`\u0045\u0072\u0072\u006f\u0072\u003a`, a), sendLog(`\u751f\u6210\u8bc4\u8bba\u9519\u8bef` + a);
  }
}
async function getKeywordsIntelligentAssociation(e, o) {
  console.log(`\u0074\u0069\u0074\u006c\u0065\u005f\u0074\u0065\u0078\u0074\u0073`, e);
  let t = ``;
  for (let a = 0; a < e.length; a++) t && (t += `\u000a`), t += a + 1 + `\u3001` + e[a];
  const n = {
      keyword: o,
      test: t
    },
    i = await async function keywordsIntelligentAssociation(e, o) {
      const t = s + `\u002f\u0076\u0031\u002f\u0077\u006f\u0072\u006b\u0066\u006c\u006f\u0077\u0073\u002f\u0072\u0075\u006e`,
        n = {
          Authorization: `\u0042\u0065\u0061\u0072\u0065\u0072\u0020\u0061\u0070\u0070\u002d\u005a\u0044\u0052\u004a\u004c\u004e\u0072\u0069\u006f\u0041\u0050\u0035\u0063\u0039\u0064\u0065\u0073\u0074\u006b\u0068\u0057\u006e\u004a\u0042`,
          "Content-Type": `\u0061\u0070\u0070\u006c\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u002f\u006a\u0073\u006f\u006e`
        },
        i = {
          inputs: e,
          response_mode: `\u0062\u006c\u006f\u0063\u006b\u0069\u006e\u0067`,
          files: o,
          user: `\u0061\u0062\u0063\u002d\u0031\u0032\u0033`
        };
      try {
        const e = await fetch(t, {
          method: `\u0050\u004f\u0053\u0054`,
          headers: n,
          body: JSON.stringify(i)
        });
        if (!e.ok) return console.error(`\u0048\u0054\u0054\u0050\u0020\u0065\u0072\u0072\u006f\u0072\u0021\u0020\u0073\u0074\u0061\u0074\u0075\u0073\u003a\u0020${e.status}`), void sendLog(`\u751f\u6210\u8bc4\u8bba\u9519\u8bef` + e.status);
        const o = await e.json();
        let a = ``;
        return o && o.data && o.data.outputs && o.data.outputs.text && (a = o.data.outputs.text), console.log(`\u0072\u0065\u0073\u0075\u006c\u0074`, o), a;
      } catch (a) {
        console.error(`\u0045\u0072\u0072\u006f\u0072\u003a`, a), sendLog(`\u751f\u6210\u8bc4\u8bba\u9519\u8bef` + a);
      }
    }(n, []);
  if (console.log(`\u0072\u0065\u0073\u0075\u006c\u0074\u0054\u0065\u0078\u0074`, i), i) {
    if (i.includes(`\u3001`)) return i.split(`\u3001`);
    if (i.includes(`\u002c`)) return i.split(`\u002c`);
    if (i.includes(`\uff0c`)) return i.split(`\uff0c`);
  }
  return [];
}
async function setXiaoHongShuAccountRunTodayNum(e, o) {
  const t = a + `\u002f\u0061\u0070\u0069\u002f\u0076\u0032\u002f\u006f\u0073\u0073\u002f\u006f\u0062\u006a\u0065\u0063\u0074\u0073`;
  try {
    const n = {
        "Content-Type": `\u0061\u0070\u0070\u006c\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u002f\u006a\u0073\u006f\u006e`,
        Authorization: `\u0042\u0065\u0061\u0072\u0065\u0072\u0020` + e
      },
      i = await fetch(t, {
        method: `\u0050\u004f\u0053\u0054`,
        headers: n,
        body: JSON.stringify(o)
      });
    if (!i.ok) return void console.error(`\u0048\u0054\u0054\u0050\u0020\u0065\u0072\u0072\u006f\u0072\u0021\u0020\u0073\u0074\u0061\u0074\u0075\u0073\u003a\u0020${i.status}`, i);
    const a = await i.json();
    return console.log(`\u0072\u0065\u0073\u0075\u006c\u0074`, a), a;
  } catch (n) {
    console.error(`\u0045\u0072\u0072\u006f\u0072\u003a`, n);
  }
}
async function putBurialPoint(e) {
  console.log(`\u0070\u0075\u0074\u0042\u0075\u0072\u0069\u0061\u006c\u0050\u006f\u0069\u006e\u0074`, e);
  const o = r + `\u002f\u0061\u0070\u0069\u002f\u0076\u0031\u002f\u0061\u006e\u0061\u006c\u0079\u0074\u0069\u0063\u0073\u005f\u0065\u0076\u0065\u006e\u0074\u0073`,
    t = {
      "Content-Type": `\u0061\u0070\u0070\u006c\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u002f\u006a\u0073\u006f\u006e`,
      Authorization: `\u0042\u0065\u0061\u0072\u0065\u0072\u0020` + n.accessToken
    };
  try {
    const i = await fetch(o, {
      method: `\u0050\u004f\u0053\u0054`,
      headers: t,
      body: JSON.stringify(e)
    });
    if (!i.ok) return sendLog(`\u0075\u0072\u006c\u003a` + o + `\uff0c\u0068\u0065\u0061\u0064\u0065\u0072\u003a` + JSON.stringify(t) + `\u002c\u0020\u0072\u0065\u0073\u0070\u006f\u006e\u0073\u0065\u0020\u0073\u0074\u0061\u0074\u0075\u0073\u003a` + i.status), console.error(`\u0048\u0054\u0054\u0050\u0020\u0065\u0072\u0072\u006f\u0072\u0021\u0020\u0073\u0074\u0061\u0074\u0075\u0073\u003a\u0020${i.status}`), 401 === i.status && (console.log(`\u767b\u5f55\u5931\u6548`), n.setAccessToken(``), n.set_updateVipEndDate(``), n.setUserInfoEndDate(``), await async function logout(e) {
      const o = r + `\u002f\u0061\u0070\u0069\u002f\u0076\u0031\u002f\u0077\u006f\u0072\u006b\u006f\u0073\u002f\u006c\u006f\u0067\u006f\u0075\u0074`,
        t = {
          "Content-Type": `\u0061\u0070\u0070\u006c\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u002f\u006a\u0073\u006f\u006e`,
          Authorization: `\u0042\u0065\u0061\u0072\u0065\u0072\u0020` + e
        };
      try {
        const e = await fetch(o, {
          method: `\u0067\u0065\u0074`,
          headers: t
        });
        if (!e.ok) return sendLog(`\u0075\u0072\u006c\u003a` + o + `\uff0c\u0068\u0065\u0061\u0064\u0065\u0072\u003a` + JSON.stringify(t) + `\u002c\u0020\u0072\u0065\u0073\u0070\u006f\u006e\u0073\u0065\u0020\u0073\u0074\u0061\u0074\u0075\u0073\u003a` + e.status), console.error(`\u0048\u0054\u0054\u0050\u0020\u0065\u0072\u0072\u006f\u0072\u0021\u0020\u0073\u0074\u0061\u0074\u0075\u0073\u003a\u0020${e.status}`, e), void e.status;
        const n = await e.json();
        return sendLog(`\u0075\u0072\u006c\u003a` + o + `\uff0c\u0068\u0065\u0061\u0064\u0065\u0072\u003a` + JSON.stringify(t) + `\u002c\u0020\u0072\u0065\u0073\u0070\u006f\u006e\u0073\u0065\u0020\u0073\u0074\u0061\u0074\u0075\u0073\u003a` + e.status + `\u002c\u0020\u0072\u0065\u0073\u0070\u006f\u006e\u0073\u0065\u0020\u0064\u0061\u0074\u0061\u003a` + JSON.stringify(n)), console.log(`\u0072\u0065\u0073\u0075\u006c\u0074`, n), n;
      } catch (n) {
        sendLog(`\u0075\u0072\u006c\u003a` + o + `\uff0c\u0068\u0065\u0061\u0064\u0065\u0072\u003a` + JSON.stringify(t) + `\u002c\u0020\u0065\u0072\u0072\u006f\u0072` + n), console.error(`\u0045\u0072\u0072\u006f\u0072\u003a`, n);
      }
    }(n.accessToken)), void i.status;
    const a = await i.json();
    return sendLog(`\u0075\u0072\u006c\u003a` + o + `\uff0c\u0068\u0065\u0061\u0064\u0065\u0072\u003a` + JSON.stringify(t) + `\u002c\u0070\u006f\u0073\u0074\u0044\u0061\u0074\u0061\uff1a` + JSON.stringify(e) + `\u0020\u0072\u0065\u0073\u0070\u006f\u006e\u0073\u0065\u0020\u0073\u0074\u0061\u0074\u0075\u0073\u003a` + i.status + `\u002c\u0020\u0072\u0065\u0073\u0070\u006f\u006e\u0073\u0065\u0020\u0064\u0061\u0074\u0061\u003a` + JSON.stringify(a)), console.log(`\u0072\u0065\u0073\u0075\u006c\u0074`, a), a;
  } catch (i) {
    sendLog(`\u0075\u0072\u006c\u003a` + o + `\uff0c\u0068\u0065\u0061\u0064\u0065\u0072\u003a` + JSON.stringify(t) + `\u002c\u0020\u0065\u0072\u0072\u006f\u0072` + i), console.error(`\u0045\u0072\u0072\u006f\u0072\u003a`, i);
  }
}
console.log(`\u0043\u006f\u006e\u0074\u0065\u006e\u0074\u0020\u0073\u0063\u0072\u0069\u0070\u0074\u0020\u006c\u006f\u0061\u0064\u0065\u0064\u003a`, window.location.href);
let c = JSON.parse(n.XiaoHongShu_Setting);
function checkDomPromise(e, o = 60, t = 1e3) {
  let n = 0;
  return new Promise(i => {
    const a = setInterval(() => {
      try {
        console.log(`\u6b63\u5728\u67e5\u627e\uff1a` + e), sendLog(`\u6b63\u5728\u67e5\u627e\uff1a` + e), (document.querySelector(e) || n > o) && (n > o ? (console.error(`\u67e5\u627e\u8d85\u65f6`), sendLog(`\u67e5\u627e\u8d85\u65f6\uff1a` + e), i(!1)) : (i(!0), console.log(`\u67e5\u627e\u5b8c\u6210\uff1a` + e), sendLog(`\u67e5\u627e\u5b8c\u6210\uff1a` + e)), clearInterval(a)), n++;
      } catch (t) {
        console.error(t);
      }
    }, t);
  });
}
function delay(e) {
  return new Promise(o => setTimeout(o, e));
}
function isWithinProbability(e) {
  if (e < 1 || e > 100) throw new Error(`\u6982\u7387\u5fc5\u987b\u5728\u0031\u5230\u0031\u0030\u0030\u4e4b\u95f4`);
  return Math.floor(100 * Math.random()) + 1 <= e;
}
function getRandomNumberInRange(e, o) {
  if (e > o) throw new Error(`\u5f00\u59cb\u6570\u5b57\u4e0d\u80fd\u5927\u4e8e\u6700\u5927\u6570\u5b57`);
  return Math.floor(Math.random() * (o - e + 1)) + e;
}
function ensureElementVisible(e) {
  return !function isElementInViewport(e) {
    const o = e.getBoundingClientRect();
    return o.top >= 0 && o.left >= 0 && o.bottom <= (window.innerHeight || document.documentElement.clientHeight) && o.right <= (window.innerWidth || document.documentElement.clientWidth);
  }(e) && (e.scrollIntoView({
    behavior: `\u0073\u006d\u006f\u006f\u0074\u0068`,
    block: `\u0073\u0074\u0061\u0072\u0074`
  }), !0);
}
function sendLog(e) {
  i.isDebugMode && chrome.runtime.sendMessage({
    action: `\u006c\u006f\u0067\u0073`,
    message: e
  }, {
    includeTlsChannelId: !1
  });
}
function sendCloseTab() {
  chrome.runtime.sendMessage({
    action: `\u0063\u006c\u006f\u0073\u0065\u0054\u0061\u0062`
  }, {
    includeTlsChannelId: !1
  }, () => {
    console.info(`\u0063\u006c\u006f\u0073\u0065\u0054\u0061\u0062`);
  });
}
function getLastPathName(e) {
  if (e) {
    const o = e.split(`\u002f`);
    if (o && o.length > 0) return (e = o[o.length - 1]).replace(/!.*$/, ``);
  }
  return e;
}
function simulateInput(e, o, t = 200) {
  return new Promise(n => {
    let i = 0,
      a = setInterval(() => {
        if (i < e.length) {
          o instanceof HTMLTextAreaElement ? o.value += e[i] : o instanceof HTMLElement && (o.innerText += e[i]);
          let t = new Event(`\u0069\u006e\u0070\u0075\u0074`, {
            bubbles: !0,
            cancelable: !0
          });
          o.dispatchEvent(t), i++;
        } else clearInterval(a), n();
      }, t);
  });
}
function queryLastTime() {
  return new Promise(e => {
    console.info(`\u0071\u0075\u0065\u0072\u0079\u004c\u0061\u0073\u0074\u0054\u0069\u006d\u0065`), chrome.runtime.sendMessage({
      action: `\u0071\u0075\u0065\u0072\u0079\u004c\u0061\u0073\u0074\u0054\u0069\u006d\u0065`
    }, {
      includeTlsChannelId: !1
    }, o => {
      console.info(`\u0071\u0075\u0065\u0072\u0079\u004c\u0061\u0073\u0074\u0054\u0069\u006d\u0065`, o), n.setOperationTime(o), e(o);
    });
  });
}
`\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065` !== document.readyState && `\u0069\u006e\u0074\u0065\u0072\u0061\u0063\u0074\u0069\u0076\u0065` !== document.readyState || (console.log(`\u0044\u006f\u0063\u0075\u006d\u0065\u006e\u0074\u0020\u0061\u006c\u0072\u0065\u0061\u0064\u0079\u0020\u006c\u006f\u0061\u0064\u0065\u0064`, document.readyState), function runYourCode() {
  console.log(`\u0052\u0075\u006e\u006e\u0069\u006e\u0067\u0020\u0079\u006f\u0075\u0072\u0020\u0063\u006f\u0064\u0065`), function closeTabListener() {
    chrome.storage.onChanged.addListener((e, o) => {
      for (let [t, {
        oldValue: i,
        newValue: a
      }] of Object.entries(e)) if (console.log(`\u0053\u0074\u006f\u0072\u0061\u0067\u0065\u0020\u006b\u0065\u0079\u0020\u0022${t}\u0022\u0020\u0069\u006e\u0020\u006e\u0061\u006d\u0065\u0073\u0070\u0061\u0063\u0065\u0020\u0022${o}\u0022\u0020\u0063\u0068\u0061\u006e\u0067\u0065\u0064\u002e`, `\u004f\u006c\u0064\u0020\u0076\u0061\u006c\u0075\u0065\u0020\u0077\u0061\u0073\u0020\u0022${i}\u0022\u002c\u0020\u006e\u0065\u0077\u0020\u0076\u0061\u006c\u0075\u0065\u0020\u0069\u0073\u0020\u0022${a}\u0022\u002e`), sendLog(`\u0053\u0074\u006f\u0072\u0061\u0067\u0065\u0020\u006b\u0065\u0079\u0020\u0022${t}\u0022\u0020\u0069\u006e\u0020\u006e\u0061\u006d\u0065\u0073\u0070\u0061\u0063\u0065\u0020\u0022${o}\u0022\u0020\u0063\u0068\u0061\u006e\u0067\u0065\u0064\u002e\u004f\u006c\u0064\u0020\u0076\u0061\u006c\u0075\u0065\u0020\u0077\u0061\u0073\u0020\u0022${i}\u0022\u002c\u0020\u006e\u0065\u0077\u0020\u0076\u0061\u006c\u0075\u0065\u0020\u0069\u0073\u0020\u0022${a}\u0022\u002e`), `\u0061\u0063\u0074\u0069\u0076\u0061\u0074\u0065\u0050\u0061\u0067\u0065` === t) {
        const e = new Date().getTime() - n.executeOperationStartTime;
        putBurialPoint({
          app_id: `\u0078\u0069\u0061\u006f\u0073\u0068\u0075\u0074\u0069\u0061\u006f\u002d\u0061\u0075\u0074\u006f\u006d\u0061\u0074\u0069\u0063\u002d\u0072\u0065\u0076\u0069\u0065\u0077\u0073`,
          client_id: n.clientVisitorId,
          event: `\u0074\u0061\u0073\u006b\u005f\u0065\u0078\u0065\u0063\u0075\u0074\u0069\u006f\u006e\u005f\u0074\u0069\u006d\u0065`,
          category: ``,
          data: {
            task_execution_time: e
          },
          data_type: ``,
          description: ``
        }).then(e => {
          console.log(`\u0070\u0075\u0074\u0042\u0075\u0072\u0069\u0061\u006c\u0050\u006f\u0069\u006e\u0074`, e);
        }).catch(e => {
          sendLog(`\u0070\u0075\u0074\u0042\u0075\u0072\u0069\u0061\u006c\u0050\u006f\u0069\u006e\u0074\u0020\u0065\u0072\u0072\u006f\u0072` + e);
        }).finally(() => {
          sendCloseTab();
        });
      }
    });
  }(), n.setXiaoHongShu_workStatus(`\u0072\u0075\u006e`);
  let e = !1;
  const o = setInterval(async () => {
    var t;
    if (!e) {
      e = !0;
      try {
        if (document.querySelector(`\u002e\u006c\u006f\u0067\u0069\u006e\u002d\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072`)) console.log(`\u0055\u0073\u0065\u0072\u0020\u0069\u0073\u0020\u006e\u006f\u0074\u0020\u006c\u006f\u0067\u0067\u0065\u0064\u0020\u0069\u006e`);else {
          const e = document.querySelector(`\u002e\u0073\u0069\u0064\u0065\u002d\u0062\u0061\u0072\u0020\u002e\u0075\u0073\u0065\u0072\u002e\u0073\u0069\u0064\u0065\u002d\u0062\u0061\u0072\u002d\u0063\u006f\u006d\u0070\u006f\u006e\u0065\u006e\u0074\u0020\u002e\u006c\u0069\u006e\u006b\u002d\u0077\u0072\u0061\u0070\u0070\u0065\u0072\u0020\u0061`);
          if (e) {
            const i = new URL(e.href).pathname;
            if (i) {
              const e = i.split(`\u002f`).pop() || ``;
              if (e) {
                if (console.log(`\u627e\u5230\u98de\u4e66\u7528\u6237\u0049\u0064`, e), sendLog(`\u627e\u5230\u98de\u4e66\u7528\u6237\u0049\u0064` + e), clearInterval(o), !(await checkXiaoHongShuAccountRunNum(e))) return;
                await n.checkLoadend(), c && 0 != Object.keys(c).length || (c = JSON.parse(n.XiaoHongShu_Setting)), n.isNotRunWork() && sendCloseTab();
                const i = await function getTabTaskData() {
                  return new Promise(e => {
                    chrome.runtime.sendMessage({
                      action: `\u0067\u0065\u0074\u0054\u0061\u0062\u0054\u0061\u0073\u006b\u0044\u0061\u0074\u0061`
                    }, {
                      includeTlsChannelId: !1
                    }, o => {
                      o && o.tabId ? (console.log(`\u0043\u0075\u0072\u0072\u0065\u006e\u0074\u0020\u0054\u0061\u0062\u0020\u0049\u0044\u003a`, o.tabId), e(o)) : (console.error(`\u0046\u0061\u0069\u006c\u0065\u0064\u0020\u0074\u006f\u0020\u0067\u0065\u0074\u0020\u0074\u0061\u0062\u0020\u0049\u0044\u002e`), e({}));
                    });
                  });
                }();
                n.setChromeTabId(null == i ? void 0 : i.tabId);
                const a = null == (t = null == i ? void 0 : i.tabData) ? void 0 : t.taskName;
                sendLog(`\u0063\u0068\u0072\u006f\u006d\u0065\u0054\u0061\u0062\u0049\u0064\u0020\u003a` + (null == i ? void 0 : i.tabId)), `\u5173\u952e\u8bcd` == a ? async function xiaoHongshuSearch() {
                  if (!(await checkDomPromise(`\u0023\u0073\u0065\u0061\u0072\u0063\u0068\u002d\u0069\u006e\u0070\u0075\u0074`))) return console.error(`\u6ca1\u6709\u627e\u5230`, `\u0023\u0073\u0065\u0061\u0072\u0063\u0068\u002d\u0069\u006e\u0070\u0075\u0074`), void sendLog(`\u6ca1\u6709\u627e\u5230\u0020\u641c\u7d22\u6846`);
                  if ((null == c ? void 0 : c.searchWord) || (c = JSON.parse(n.XiaoHongShu_Setting)), !(null == c ? void 0 : c.searchWord)) return console.error(`\u914d\u7f6e\u6ca1\u6709\u751f\u6548`, n.XiaoHongShu_Setting), void sendLog(`\u914d\u7f6e\u6ca1\u6709\u751f\u6548`);
                  let e = [];
                  e.push(null == c ? void 0 : c.searchWord);
                  let o = !0,
                    t = 0;
                  for (let i = 0; i < e.length; i++) {
                    console.log(`\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0073\u0068\u0075\u0053\u0065\u0061\u0072\u0063\u0068`);
                    const a = e[i];
                    if (n.isNotRunWork()) return;
                    const s = document.querySelector(`\u0023\u0073\u0065\u0061\u0072\u0063\u0068\u002d\u0069\u006e\u0070\u0075\u0074`);
                    if (!s) return sendLog(`\u6ca1\u6709\u627e\u5230\u641c\u7d22\u6846`), void console.error(`\u6ca1\u6709\u627e\u5230\u641c\u7d22\u6846\uff0c\u91cd\u65b0\u5f00\u59cb`);
                    s.value = a;
                    const r = new Event(`\u0069\u006e\u0070\u0075\u0074`, {
                      bubbles: !0,
                      cancelable: !0
                    });
                    s.dispatchEvent(r);
                    const c = new KeyboardEvent(`\u006b\u0065\u0079\u0064\u006f\u0077\u006e`, {
                      bubbles: !0,
                      cancelable: !0,
                      key: `\u0045\u006e\u0074\u0065\u0072`,
                      code: `\u0045\u006e\u0074\u0065\u0072`,
                      keyCode: 13,
                      which: 13
                    });
                    s.dispatchEvent(c);
                    const u = new KeyboardEvent(`\u006b\u0065\u0079\u0075\u0070`, {
                      bubbles: !0,
                      cancelable: !0,
                      key: `\u0045\u006e\u0074\u0065\u0072`,
                      code: `\u0045\u006e\u0074\u0065\u0072`,
                      keyCode: 13,
                      which: 13
                    });
                    s.dispatchEvent(u);
                    const l = new KeyboardEvent(`\u006b\u0065\u0079\u0070\u0072\u0065\u0073\u0073`, {
                      bubbles: !0,
                      cancelable: !0,
                      key: `\u0045\u006e\u0074\u0065\u0072`,
                      code: `\u0045\u006e\u0074\u0065\u0072`,
                      keyCode: 13,
                      which: 13
                    });
                    if (s.dispatchEvent(l), n.isNotRunWork()) return void sendLog(`\u505c\u6b62\u4e86`);
                    const d = await xiaoHongshuClick_short_note(a, o, t);
                    if (d && 2 == d.length) {
                      const n = d[0];
                      if (t = d[1], o = !1, n && n.length > 0) {
                        for (let o = 0; o < n.length; o++) e.push(n[o]);
                        sendLog(`\u006b\u0065\u0079\u0077\u006f\u0072\u0064\u0073\u005f\u006c\u0069\u0073\u0074` + JSON.stringify(e));
                      }
                    }
                  }
                  if (n.increment_XiaoHongShu_search_runNumber(), sendLog(`\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0073\u0065\u0061\u0072\u0063\u0068\u005f\u0072\u0075\u006e\u004e\u0075\u006d\u0062\u0065\u0072\uff1a` + n.XiaoHongShu_search_runNumber), n.XiaoHongShu_search_runNumber > 3) return n.setExecuteOperationStartTime(new Date().getTime()), void sendCloseTab();
                  sendLog(`\u4e0b\u4e00\u6b21\u5f00\u59cb`), chrome.runtime.sendMessage({
                    action: `\u0071\u0075\u0065\u0072\u0079\u004c\u0061\u0073\u0074\u0054\u0069\u006d\u0065`
                  }, {
                    includeTlsChannelId: !1
                  }, e => {
                    console.info(`\u0071\u0075\u0065\u0072\u0079\u004c\u0061\u0073\u0074\u0054\u0069\u006d\u0065`, e), n.setOperationTime(e), chrome.runtime.sendMessage({
                      action: `\u006e\u006f\u0043\u006c\u006f\u0073\u0065\u0052\u0075\u006e`
                    }, {
                      includeTlsChannelId: !1
                    }, () => {
                      console.log(`\u0068\u0065\u006c\u006c\u006f\u0020\u0077\u006f\u0072\u006c\u0064`), sendCloseTab();
                    }), chrome.runtime.sendMessage({
                      action: `\u006f\u0070\u0065\u006e\u0050\u0061\u0067\u0065\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075`
                    }, {
                      includeTlsChannelId: !1
                    }, () => {
                      console.log(`\u0068\u0065\u006c\u006c\u006f\u0020\u0077\u006f\u0072\u006c\u0064`);
                    });
                  });
                }().then(() => {}).catch(e => {
                  console.error(`\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0073\u0068\u0075\u0053\u0065\u0061\u0072\u0063\u0068`, e);
                }) : `\u4fe1\u606f\u6d41` == a && xiaoHongshuClick_cover_ld_mask([], ``, !1, 0).then(e => {
                  console.log(`\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0073\u0068\u0075\u0043\u006c\u0069\u0063\u006b\u005f\u0063\u006f\u0076\u0065\u0072\u005f\u006c\u0064\u005f\u006d\u0061\u0073\u006b\u0020\u0072\u0065\u0073`, e);
                }).catch(e => {
                  console.error(`\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0073\u0068\u0075\u0043\u006c\u0069\u0063\u006b\u005f\u0063\u006f\u0076\u0065\u0072\u005f\u006c\u0064\u005f\u006d\u0061\u0073\u006b`, e);
                }).finally(() => {
                  sendCloseTab();
                });
              } else console.log(`\u6ca1\u6709\u627e\u5230\u7528\u6237\u767b\u5f55\u4fe1\u606f\u0069\u0064`);
            }
          } else console.log(`\u6ca1\u6709\u627e\u5230\u7528\u6237\u767b\u5f55\u4fe1\u606f`);
        }
      } finally {
        e = !1;
      }
    }
  }, 1e3);
  setTimeout(() => {
    clearInterval(o), console.log(`\u0046\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u0020\u0063\u0068\u0065\u0063\u006b\u0069\u006e\u0067\u0020\u006c\u006f\u0067\u0069\u006e\u0020\u0073\u0074\u0061\u0074\u0075\u0073\u002e`);
  }, 600 * getRandomNumberInRange(1e3, 5e3));
}()), chrome.runtime.onMessage.addListener(async (e, o, t) => {
  if (console.log(`\u0054\u0061\u0062\u0020\u6fc0\u6d3b\u4e86\u3002`, o, e), `\u0074\u0061\u0062\u0043\u0068\u0061\u006e\u0067\u0065` === (null == e ? void 0 : e.messageType)) {
    if (e.status, e.tabId != n.chromeTabId) {
      console.log(`\u5f53\u524d\u0074\u0061\u0062\u4e0d\u662f\u6fc0\u6d3b\u0074\u0061\u0062\u4e86`);
      const e = await function getActivateTabId() {
        return new Promise(e => {
          chrome.runtime.sendMessage({
            message: `\u0071\u0075\u0065\u0072\u0079\u0054\u0061\u0062\u0073`
          }, {
            includeTlsChannelId: !1
          }, o => {
            o ? (console.log(`\u0041\u0063\u0074\u0069\u0076\u0065\u0020\u0054\u0061\u0062\u0020\u0049\u0044\u003a`, o.tabId), console.log(`\u0041\u0063\u0074\u0069\u0076\u0065\u0020\u0054\u0061\u0062\u0020\u0055\u0052\u004c\u003a`, o.url), e(o.tabId)) : (console.error(`\u0046\u0061\u0069\u006c\u0065\u0064\u0020\u0074\u006f\u0020\u0067\u0065\u0074\u0020\u0074\u0061\u0062\u0020\u0069\u006e\u0066\u006f\u0072\u006d\u0061\u0074\u0069\u006f\u006e\u002e`), e(0));
          });
        });
      }();
      e && console.log(`\u5f53\u524d\u6fc0\u6d3b\u0074\u0061\u0062`, e);
    }
    return t(`\u6536\u5230\u6d88\u606f`), !1;
  }
});
const checkXiaoHongShuAccountRunNum = async e => {
  const o = function nowDate() {
      const e = new Date();
      return `${e.getFullYear()}\u002d${String(e.getMonth() + 1).padStart(2, `\u0030`)}\u002d${String(e.getDate()).padStart(2, `\u0030`)}`;
    }(),
    t = n.userId + `\u005f\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u0041\u0063\u0063\u006f\u0075\u006e\u0074\u0052\u0075\u006e\u004e\u0075\u006d`;
  if (!n.xiaoHongShuAccountRunTodayDate) {
    const i = await async function getXiaoHongShuAccountRunTodayNum(e, o, t) {
      const n = a + `\u002f\u0061\u0070\u0069\u002f\u0076\u0032\u002f\u006f\u0073\u0073\u002f\u006f\u0062\u006a\u0065\u0063\u0074\u0073\u002f` + o + `\u003f\u0062\u0065\u006c\u006f\u006e\u0067\u005f\u0074\u006f\u003d` + t;
      try {
        const o = {
            "Content-Type": `\u0061\u0070\u0070\u006c\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u002f\u006a\u0073\u006f\u006e`,
            Authorization: `\u0042\u0065\u0061\u0072\u0065\u0072\u0020` + e
          },
          t = await fetch(n, {
            method: `\u0067\u0065\u0074`,
            headers: o
          });
        if (!t.ok) return void console.error(`\u0048\u0054\u0054\u0050\u0020\u0065\u0072\u0072\u006f\u0072\u0021\u0020\u0073\u0074\u0061\u0074\u0075\u0073\u003a\u0020${t.status}`, t);
        const i = await t.json();
        return console.log(`\u0072\u0065\u0073\u0075\u006c\u0074`, i), i;
      } catch (i) {
        console.error(`\u0045\u0072\u0072\u006f\u0072\u003a`, i);
      }
    }(n.accessToken, t, n.userId);
    if (console.log(`\u0067\u0065\u0074\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u0041\u0063\u0063\u006f\u0075\u006e\u0074\u0052\u0075\u006e\u0054\u006f\u0064\u0061\u0079\u004e\u0075\u006d\u0020\u0072\u0065\u0073`, i, n.xiaoHongShuAccountRunTodayDate), !i || !i.bucket) {
      n.increment_XiaoHongShuAccountRunTodayIds(e), n.setXiaoHongShuAccountRunTodayDate(o);
      const i = {
        key: t,
        bucket: {
          xiaoHongShuAccountIds: n.xiaoHongShuAccountIds,
          runTodayDate: o
        },
        size: 0,
        content_type: ``,
        belong_to: n.userId,
        object_metadata: {}
      };
      return await setXiaoHongShuAccountRunTodayNum(n.accessToken, i), !0;
    }
    if (i.bucket.xiaoHongShuAccountIds) {
      if (i.bucket.xiaoHongShuAccountIds instanceof Set) n.setXiaoHongShuAccountRunTodayIds(i.bucket.xiaoHongShuAccountIds);else if (i.bucket.xiaoHongShuAccountIds instanceof Array) {
        const e = new Set(i.bucket.xiaoHongShuAccountIds);
        n.setXiaoHongShuAccountRunTodayIds(e);
      }
    } else n.setXiaoHongShuAccountRunTodayIds(new Set());
    n.setXiaoHongShuAccountRunTodayDate(i.bucket.runTodayDate);
  }
  if (n.xiaoHongShuAccountRunTodayDate != o) {
    n.xiaoHongShuAccountIds = new Set(), n.increment_XiaoHongShuAccountRunTodayIds(e), n.setXiaoHongShuAccountRunTodayIds(n.xiaoHongShuAccountIds), n.setXiaoHongShuAccountRunTodayDate(o);
    const i = {
      key: t,
      bucket: {
        xiaoHongShuAccountIds: n.xiaoHongShuAccountIds,
        runTodayDate: o
      },
      size: 0,
      content_type: ``,
      belong_to: n.userId,
      object_metadata: {}
    };
    return await setXiaoHongShuAccountRunTodayNum(n.accessToken, i), !0;
  }
  const i = new Set(n.xiaoHongShuAccountIds);
  if (i.add(e), i.size > n.xiaoHongShuAccountRunTodayMaxNum) return sendLog(`\u8d85\u8fc7\u6bcf\u65e5\u514d\u8d39\u6700\u5927\u6b21\u6570\u003a` + n.xiaoHongShuAccountIds), n.setXiaoHongShuAccountErrorTip(`\u8d26\u53f7\u592a\u591a\u4e86\u002c\u5c0f\u85af\u6761\u6709\u70b9\u7d2f\u4e86\u3002\u8bf7\u660e\u65e5\u518d\u8bd5\u002c\u8be6\u60c5\u8bf7\u54a8\u8be2\u5ba2\u670d\u3002`), !1;
  const s = n.xiaoHongShuAccountIds.size;
  if (n.increment_XiaoHongShuAccountRunTodayIds(e), s == n.xiaoHongShuAccountIds.size) return sendLog(`\u6ca1\u6709\u65b0\u589e\u8d26\u53f7\uff0c\u4e0d\u505a\u4fee\u6539`), !0;
  n.setXiaoHongShuAccountRunTodayDate(o);
  const r = {
    key: t,
    bucket: {
      xiaoHongShuAccountIds: n.xiaoHongShuAccountIds,
      runTodayDate: o
    },
    size: 0,
    content_type: ``,
    belong_to: n.userId,
    object_metadata: {}
  };
  return await setXiaoHongShuAccountRunTodayNum(n.accessToken, r), !0;
};
async function xiaoHongshuClick_short_note(e, o, t) {
  let i = [];
  try {
    if ((await checkDomPromise(`\u002e\u0066\u0065\u0065\u0064\u0073\u002d\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072`)) || sendLog(`\u6ca1\u6709\u627e\u5230\u641c\u7d22\u7ed3\u679c`), await function scrollToNextBottom(e = 100, o = 100, t = 3) {
      let i = 0;
      return new Promise(a => {
        const s = setInterval(() => {
          const o = document.body.scrollHeight,
            r = window.scrollY + window.innerHeight;
          console.log(`\u0073\u0063\u0072\u006f\u006c\u006c\u0048\u0065\u0069\u0067\u0068\u0074\u003a` + o, `\u0020\u0063\u0075\u0072\u0072\u0065\u006e\u0074\u0053\u0063\u0072\u006f\u006c\u006c\u003a` + r), i >= t || n.isNotRunWork() ? (console.log(`\u6eda\u52a8\u5b8c\u6210`), console.log(`\u6eda\u52a8\u0020\u56de\u8c03`), a(!0), clearInterval(s)) : window.scrollBy(0, e), i += 1;
        }, o);
      });
    }(getRandomNumberInRange(1e3, 5e3), getRandomNumberInRange(1e3, 5e3)), console.log(`\u0073\u0063\u0072\u006f\u006c\u006c\u0054\u006f\u0042\u006f\u0074\u0074\u006f\u006d\u0020\u0063\u0061\u006c\u006c\u0062\u0061\u0063\u006b`), n.isNotRunWork()) return void sendLog(`\u505c\u6b62\u4e86`);
    if (function scrollToTop() {
      console.log(`\u6eda\u52a8\u56de\u9876\u90e8`), window.scrollBy({
        top: 0,
        left: 0,
        behavior: `\u0073\u006d\u006f\u006f\u0074\u0068`
      });
    }(), n.isNotRunWork()) return void sendLog(`\u505c\u6b62\u4e86`);
    if (await delay(getRandomNumberInRange(1e3, 5e3)), `\u89c6\u9891` == c.selectionVideo && `\u56fe\u6587` == c.selectionImage) console.log(`\u89c6\u9891\u0020\u56fe\u6587`);else {
      if (sendLog(`\u70b9\u51fb\u56fe\u6587`), !(await checkDomPromise(`\u0023\u0073\u0068\u006f\u0072\u0074\u005f\u006e\u006f\u0074\u0065`))) return console.error(`\u6ca1\u6709\u627e\u5230`, `\u0023\u0073\u0068\u006f\u0072\u0074\u005f\u006e\u006f\u0074\u0065`), void sendLog(`\u6ca1\u6709\u627e\u5230\u0020\u56fe\u6587\u6309`);
      if (n.isNotRunWork()) return void sendLog(`\u505c\u6b62\u4e86`);
      let e = null;
      if (e = `\u56fe\u6587` == c.selectionImage ? document.querySelector(`\u0023\u0073\u0068\u006f\u0072\u0074\u005f\u006e\u006f\u0074\u0065`) : document.querySelector(`\u0023\u0076\u0069\u0064\u0065\u006f\u005f\u006e\u006f\u0074\u0065`), !e) return sendLog(`\u6ca1\u6709\u627e\u5230\u0020\u56fe\u6587\u6309`), void console.error(`\u9519\u8bef\uff0c\u91cd\u65b0\u5f00\u59cb`);
      const o = new MouseEvent(`\u0063\u006c\u0069\u0063\u006b`, {
        view: window,
        bubbles: !0,
        cancelable: !0
      });
      e.dispatchEvent(o);
    }
    i = await async function xiaoHongshuClick_filter_box(e, o, t) {
      if (console.log(`\u9009\u62e9\u8fc7\u6ee4`), !(await checkDomPromise(`\u002e\u0066\u0069\u006c\u0074\u0065\u0072\u002d\u0062\u006f\u0078`))) return console.error(`\u6ca1\u6709\u627e\u5230`, `\u002e\u0066\u0069\u006c\u0074\u0065\u0072\u002d\u0062\u006f\u0078`), void sendLog(`\u6ca1\u6709\u627e\u5230\u0020\u9009\u62e9\u8fc7\u6ee4`);
      if (n.isNotRunWork()) return void sendLog(`\u505c\u6b62\u4e86`);
      const i = document.querySelector(`\u002e\u0066\u0069\u006c\u0074\u0065\u0072\u002d\u0062\u006f\u0078\u0020\u002e\u0066\u0069\u006c\u0074\u0065\u0072`);
      if (!i) return console.error(`\u9519\u8bef\uff0c\u91cd\u65b0\u5f00\u59cb`), void sendLog(`\u6ca1\u6709\u627e\u5230\u0020\u9009\u62e9\u8fc7\u6ee4`);
      const a = i.getBoundingClientRect(),
        s = a.left + a.width / 2,
        r = a.top + a.height / 2;
      console.log(`\u0078\u002c\u0079`, a, s, r);
      const u = new MouseEvent(`\u006d\u006f\u0075\u0073\u0065\u006f\u0076\u0065\u0072`, {
        view: window,
        bubbles: !0,
        cancelable: !0,
        clientX: s,
        clientY: r
      });
      i.dispatchEvent(u);
      const l = new MouseEvent(`\u006d\u006f\u0075\u0073\u0065\u006d\u006f\u0076\u0065`, {
        view: window,
        bubbles: !0,
        cancelable: !0,
        clientX: s,
        clientY: r
      });
      i.dispatchEvent(l);
      const d = new MouseEvent(`\u006d\u006f\u0075\u0073\u0065\u0065\u006e\u0074\u0065\u0072`, {
        view: window,
        bubbles: !0,
        cancelable: !0,
        clientX: s,
        clientY: r
      });
      return i.dispatchEvent(d), await delay(getRandomNumberInRange(1e3, 5e3)), await async function xiaoHongshuClick_dropdown_container(e, o, t) {
        if (console.log(`\u9009\u62e9\u6700\u65b0`), n.isNotRunWork()) return void sendLog(`\u505c\u6b62\u4e86`);
        const i = document.evaluate(`\u002f\u002f\u0064\u0069\u0076\u005b\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0073\u0028\u0040\u0063\u006c\u0061\u0073\u0073\u002c\u0020\u0022\u0064\u0072\u006f\u0070\u0064\u006f\u0077\u006e\u002d\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0022\u0029\u005d\u002f\u0064\u0069\u0076\u002f\u006c\u0069\u002f\u0073\u0070\u0061\u006e`, document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
        let a = null;
        if (!(null == c ? void 0 : c.category)) return console.error(`\u6ca1\u6709\u914d\u7f6e\u0020\u0063\u0061\u0074\u0065\u0067\u006f\u0072\u0079`, null == c ? void 0 : c.category), void sendLog(`\u6ca1\u6709\u914d\u7f6e\u0020\u0063\u0061\u0074\u0065\u0067\u006f\u0072\u0079`);
        for (let n = 0; n < i.snapshotLength; n++) {
          const e = i.snapshotItem(n);
          if (e && (console.log(e), console.log(e.childElementCount, null == c ? void 0 : c.category), e && 0 === e.childElementCount && e.textContent && e.textContent.trim() === (null == c ? void 0 : c.category))) {
            a = e;
            break;
          }
        }
        if (!a) return console.log(`\u0045\u006c\u0065\u006d\u0065\u006e\u0074\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064`, null == c ? void 0 : c.category), void sendLog(`\u6ca1\u6709\u914d\u7f6e\u0020\u0063\u0061\u0074\u0065\u0067\u006f\u0072\u0079`);
        console.log(`\u0045\u006c\u0065\u006d\u0065\u006e\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u003a`, a);
        const s = new MouseEvent(`\u0063\u006c\u0069\u0063\u006b`, {
          view: window,
          bubbles: !0,
          cancelable: !0
        });
        return a.dispatchEvent(s), (await checkDomPromise(`\u002e\u0063\u006f\u0076\u0065\u0072\u002e\u006c\u0064\u002e\u006d\u0061\u0073\u006b`)) ? await xiaoHongshuClick_cover_ld_mask([], e, o, t) : (console.error(`\u6ca1\u6709\u627e\u5230`, `\u002e\u0063\u006f\u0076\u0065\u0072\u002e\u006c\u0064\u002e\u006d\u0061\u0073\u006b`), void sendLog(`\u6ca1\u6709\u627e\u5230\u641c\u7d22\u7ed3\u679c`));
      }(e, o, t);
    }(e, o, t);
  } catch (a) {
    console.error(`\u0065\u0065`, a), sendLog(`\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0073\u0068\u0075\u0043\u006c\u0069\u0063\u006b\u005f\u0073\u0068\u006f\u0072\u0074\u005f\u006e\u006f\u0074\u0065` + a);
  }
  return i;
}
async function xiaoHongshuClick_cover_ld_mask(e, o, t, i) {
  let a = [];
  for (;;) try {
    if (sendLog(`\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0073\u0068\u0075\u0043\u006c\u0069\u0063\u006b\u005f\u0063\u006f\u0076\u0065\u0072\u005f\u006c\u0064\u005f\u006d\u0061\u0073\u006b`), n.isNotRunWork()) return sendCloseTab(), [];
    let s = document.querySelectorAll(`\u002e\u006e\u006f\u0074\u0065\u002d\u0069\u0074\u0065\u006d`),
      r = Array.from(s);
    sendLog(`\u0065\u006c\u0065\u006d\u0065\u006e\u0074\u0073\u003a` + r.length);
    const u = [];
    if (`\u667a\u80fd\u5173\u952e\u8bcd` == c.smartKeywords && t) {
      if (t) {
        Array.from(r).filter(e => {
          var o;
          const t = e.querySelector(`\u002e\u0074\u0069\u0074\u006c\u0065`);
          if (!t) return !1;
          const n = null == (o = t.textContent) ? void 0 : o.trim();
          u.push(n);
        }), sendLog(`\u0074\u0069\u0074\u006c\u0065\u005f\u0074\u0065\u0078\u0074\u0073\uff1a` + JSON.stringify(u)), a = await getKeywordsIntelligentAssociation(u, o), sendLog(`\u006b\u0065\u0079\u0077\u006f\u0072\u0064\u0073\u005f\u006c\u0069\u0073\u0074\uff1a` + JSON.stringify(a)), t = !1;
        const e = await queryLastTime();
        sendLog(`\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0053\u0065\u0074\u0074\u0069\u006e\u0067\u002e\u006f\u0070\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0054\u0069\u006d\u0065\u0020` + e + `\u0020` + c.operationTime);
        let s = a.length;
        sendLog(`\u006b\u0065\u0079\u0077\u006f\u0072\u0064\u0073\u005f\u006c\u0065\u006e\uff1a` + s);
        const l = parseInt(c.operationTime),
          d = Math.ceil(l / s);
        sendLog(`\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0061\u0076\u0067\u0054\u0069\u006d\u0065\uff1a` + d), n.setXiaoHongShu_avgTime(d), i = e;
        break;
      }
      n.setXiaoHongShu_avgTime(0);
    }
    let l = !1,
      d = [];
    if (Array.from(r).filter(o => {
      const t = o.querySelector(`\u002e\u0063\u006f\u0076\u0065\u0072\u002e\u006c\u0064\u002e\u006d\u0061\u0073\u006b`);
      if (!t) return !1;
      const n = new URL(t.href).pathname;
      e.includes(n) || d.push(t);
    }), r = d, r.length > 0) {
      const o = r[0];
      if (await xiaoHongshu_list_processElements(o, l), n.isNotRunWork()) {
        sendCloseTab();
        break;
      }
      const t = new URL(o.href).pathname;
      e.push(t);
    }
    if (!(await checkDomPromise(`\u002e\u0063\u006f\u0076\u0065\u0072\u002e\u006c\u0064\u002e\u006d\u0061\u0073\u006b`))) {
      sendLog(`\u6ca1\u6709\u627e\u5230\u002e\u0063\u006f\u0076\u0065\u0072\u002e\u006c\u0064\u002e\u006d\u0061\u0073\u006b`);
      break;
    }
    if (0 == r.length) {
      const e = document.querySelectorAll(`\u002e\u0065\u006e\u0064\u002d\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072`);
      if (sendLog(`\u0065\u006e\u0064\u005f\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072` + e), e && e.length > 0) {
        sendLog(`\u0065\u006e\u0064\u005f\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u5904\u7406\u5b8c\u6210`);
        break;
      }
      sendLog(`\u7ee7\u7eed\u5904\u7406`);
    }
    if (`\u5173\u952e\u8bcd` == c.workType) {
      const e = await queryLastTime();
      sendLog(`\u006c\u0061\u0073\u0074\u0054\u0069\u006d\u0065\uff1a` + e + `\u0020` + n.XiaoHongShu_avgTime);
      const o = parseInt(c.operationTime);
      if (n.XiaoHongShu_avgTime && e != i && e != o && e % n.XiaoHongShu_avgTime == 0) {
        sendLog(`\u5f00\u59cb\u641c\u7d22\u4e0b\u4e00\u4e2a\u5173\u952e\u8bcd\u0020` + e + `\u0020` + n.XiaoHongShu_avgTime + `\u0020` + o), i = e;
        break;
      }
    } else if ((await queryLastTime()) <= 0) break;
  } catch (s) {
    sendLog(`\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0073\u0068\u0075\u0043\u006c\u0069\u0063\u006b\u005f\u0063\u006f\u0076\u0065\u0072\u005f\u006c\u0064\u005f\u006d\u0061\u0073\u006b\uff0c\u7ed3\u675f` + s), console.error(`\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0073\u0068\u0075\u0043\u006c\u0069\u0063\u006b\u005f\u0063\u006f\u0076\u0065\u0072\u005f\u006c\u0064\u005f\u006d\u0061\u0073\u006b`, s);
  }
  return [a, i];
}
async function xiaoHongshu_list_processElements(e, o = !1) {
  try {
    if (sendLog(`\u5f00\u59cb\u4e0b\u4e00\u4e2a\u7b14\u8bb0\u0031`), !(await function checkDomByDom(e, o = 60, t = 1e3) {
      let n = 0;
      return new Promise(i => {
        const a = setInterval(() => {
          try {
            console.log(`\u6b63\u5728\u67e5\u627e\uff1a`), sendLog(`\u6b63\u5728\u67e5\u627e\uff1a`), (document.documentElement.contains(e) || n > o) && (n > o ? (console.error(`\u67e5\u627e\u8d85\u65f6`), sendLog(`\u67e5\u627e\u8d85\u65f6\uff1a`), i(!1)) : (i(!0), console.log(`\u67e5\u627e\u5b8c\u6210\uff1a`), sendLog(`\u67e5\u627e\u5b8c\u6210\uff1a`)), clearInterval(a)), n++;
          } catch (t) {
            console.error(`\u0063\u0068\u0065\u0063\u006b\u0044\u006f\u006d\u0042\u0079\u0044\u006f\u006d`, t);
          }
        }, t);
      });
    }(e))) return;
    if (sendLog(`\u5f00\u59cb\u4e0b\u4e00\u4e2a\u7b14\u8bb0\u0032`), n.isNotRunWork()) return;
    if (console.log(`\u0065\u006c\u0065\u006d\u0065\u006e\u0074`, e), ensureElementVisible(e), n.isNotRunWork()) return;
    o ? console.log(`\u53ea\u662f\u4e3a\u4e86\u6eda\u52a8\u9875\u9762\uff0c\u4e0d\u505a\u4efb\u4f55\u7684\u64cd\u4f5c`) : isWithinProbability(80) ? (await async function xiaoHongshu_tuwen_open(e) {
      try {
        const o = new MouseEvent(`\u0063\u006c\u0069\u0063\u006b`, {
          view: window,
          bubbles: !0,
          cancelable: !0
        });
        if (e.dispatchEvent(o), console.log(`\u0065\u006c\u0065\u006d\u0065\u006e\u0074`, e), n.increment_XiaoHongShu_viewCount(), await async function xiaoHongshu_tuwen_start_exec() {
          if (!(await checkDomPromise(`\u0023\u0064\u0065\u0074\u0061\u0069\u006c\u002d\u0064\u0065\u0073\u0063`))) return void console.error(`\u6ca1\u6709\u627e\u5230`, `\u0023\u0064\u0065\u0074\u0061\u0069\u006c\u002d\u0064\u0065\u0073\u0063`);
          if (n.isNotRunWork()) return;
          const e = [];
          `\u9ed8\u8ba4\u0041\u0049\u63a7\u5236` == c.reviewProbability ? isWithinProbability(20) ? e.push(`\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0073\u0068\u0075\u005f\u0073\u0065\u006e\u0064\u005f\u0063\u006f\u006d\u006d\u0065\u006e\u0074\u0073`) : console.log(`\u8df3\u8fc7\u0020\u4e0d\u8bc4\u8bba`) : `\u81ea\u5b9a\u4e49\u6982\u7387` == c.reviewProbability && c.customProbabilitiesNum && isWithinProbability(c.customProbabilitiesNum) && e.push(`\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0073\u0068\u0075\u005f\u0073\u0065\u006e\u0064\u005f\u0063\u006f\u006d\u006d\u0065\u006e\u0074\u0073`), (null == c ? void 0 : c.like) && (isWithinProbability(50) ? e.push(`\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0063\u006c\u0069\u0063\u006b\u0043\u006f\u006d\u006d\u0065\u006e\u0074\u004c\u0069\u006b\u0065`) : console.log(`\u8df3\u8fc7\u0020\u4e0d\u70b9\u8d5e`)), (null == c ? void 0 : c.follow) && (isWithinProbability(5) ? e.push(`\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0066\u006f\u006c\u006c\u006f\u0077\u005f\u0063\u006c\u0069\u0063\u006b`) : console.log(`\u8df3\u8fc7\u0020\u4e0d\u5173\u6ce8`)), (null == c ? void 0 : c.collect) && (isWithinProbability(5) ? e.push(`\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0063\u006f\u006c\u006c\u0065\u0063\u0074\u005f\u0063\u006c\u0069\u0063\u006b`) : console.log(`\u8df3\u8fc7\u0020\u4e0d\u6536\u85cf`)), await async function randomExecFunction(e) {
            let o = [...e];
            for (; o.length > 0;) {
              if (n.isNotRunWork()) return;
              const e = Math.floor(Math.random() * o.length);
              switch (console.log(o[e]), o[e]) {
                case `\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0073\u0068\u0075\u005f\u0073\u0065\u006e\u0064\u005f\u0063\u006f\u006d\u006d\u0065\u006e\u0074\u0073`:
                  await xiaoHongshu_tuwen_read_info();
                  break;
                case `\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0063\u006c\u0069\u0063\u006b\u0043\u006f\u006d\u006d\u0065\u006e\u0074\u004c\u0069\u006b\u0065`:
                  await xiaoHongShu_clickCommentLike();
                  break;
                case `\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0066\u006f\u006c\u006c\u006f\u0077\u005f\u0063\u006c\u0069\u0063\u006b`:
                  await xiaoHongShu_follow_click();
                  break;
                case `\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0063\u006f\u006c\u006c\u0065\u0063\u0074\u005f\u0063\u006c\u0069\u0063\u006b`:
                  await xiaoHongShu_collect_click();
                  break;
                default:
                  console.error(`\u9519\u8bef\u4fe1\u606f`, o[e]);
              }
              o.splice(e, 1);
            }
          }(e);
        }(), n.isNotRunWork()) return;
        if (await delay(getRandomNumberInRange(1e3, 5e3)), !(await checkDomPromise(`\u002e\u0063\u006c\u006f\u0073\u0065\u002d\u0063\u0069\u0072\u0063\u006c\u0065\u0020\u002e\u0072\u0065\u0064\u0073\u002d\u0069\u0063\u006f\u006e`))) return;
        if (n.isNotRunWork()) return;
        const t = document.querySelector(`\u002e\u0063\u006c\u006f\u0073\u0065\u002d\u0063\u0069\u0072\u0063\u006c\u0065\u0020\u002e\u0072\u0065\u0064\u0073\u002d\u0069\u0063\u006f\u006e`);
        if (!t) return void console.log(`\u6b63\u5728\u5173\u95ed\u6253\u5f00\u7684\u56fe\u6587\u0020\u6ca1\u6709\u627e\u5230\u5173\u95ed\u56fe\u6807`);
        const i = new MouseEvent(`\u0063\u006c\u0069\u0063\u006b`, {
          view: window,
          bubbles: !0,
          cancelable: !0
        });
        null == t || t.dispatchEvent(i);
      } catch (o) {
        console.error(`\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0073\u0068\u0075\u005f\u0074\u0075\u0077\u0065\u006e\u005f\u006f\u0070\u0065\u006e\u0020\u0065\u0072\u0072\u006f\u0072`, o), sendLog(`\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0073\u0068\u0075\u005f\u0074\u0075\u0077\u0065\u006e\u005f\u006f\u0070\u0065\u006e\u0020\u0065\u0072\u0072\u006f\u0072` + o);
      }
    }(e), await delay(getRandomNumberInRange(3e3, 6e3))) : (console.log(`\u8df3\u8fc7\u0020\u4e0d\u6253\u5f00\u56fe\u6587`), await delay(getRandomNumberInRange(1e3, 5e3)));
  } catch (t) {
    sendLog(`\u0078\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0073\u0068\u0075\u005f\u006c\u0069\u0073\u0074\u005f\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0045\u006c\u0065\u006d\u0065\u006e\u0074\u0073\u0020\u0065\u0072\u0072\u006f\u0072` + t), console.error(t);
  } finally {
    console.log(`\u0041\u006c\u006c\u0020\u0065\u006c\u0065\u006d\u0065\u006e\u0074\u0073\u0020\u0068\u0061\u0076\u0065\u0020\u0062\u0065\u0065\u006e\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0065\u0064\u002e`);
  }
}
async function xiaoHongshu_tuwen_read_info() {
  var e, o;
  if (!(await checkDomPromise(`\u0023\u0064\u0065\u0074\u0061\u0069\u006c\u002d\u0064\u0065\u0073\u0063`))) return void console.error(`\u6ca1\u6709\u627e\u5230`, `\u0023\u0064\u0065\u0074\u0061\u0069\u006c\u002d\u0064\u0065\u0073\u0063`);
  if (n.isNotRunWork()) return;
  const t = document.querySelector(`\u002e\u0073\u0077\u0069\u0070\u0065\u0072\u002d\u0073\u006c\u0069\u0064\u0065\u002e\u0073\u0077\u0069\u0070\u0065\u0072\u002d\u0073\u006c\u0069\u0064\u0065\u002d\u0076\u0069\u0073\u0069\u0062\u006c\u0065\u002e\u0073\u0077\u0069\u0070\u0065\u0072\u002d\u0073\u006c\u0069\u0064\u0065\u002d\u0061\u0063\u0074\u0069\u0076\u0065\u0020\u002e\u0069\u006d\u0067\u002d\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u006e\u006f\u0074\u0065\u002d\u0073\u006c\u0069\u0064\u0065\u0072\u002d\u0069\u006d\u0067`);
  let i = ``;
  t && (i = t.src), console.log(`\u0069\u006d\u0067\u005f\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u005f\u0065\u006c\u003a`, t), console.log(`\u0069\u006d\u0067\u005f\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u005f\u0075\u0072\u006c\u003a` + i);
  const s = document.querySelector(`\u0023\u0064\u0065\u0074\u0061\u0069\u006c\u002d\u0074\u0069\u0074\u006c\u0065`);
  let r = ``;
  s && (r = (null == (e = s.textContent) ? void 0 : e.trim()) || ``), console.log(`\u0064\u0065\u0074\u0061\u0069\u006c\u005f\u0074\u0069\u0074\u006c\u0065\u005f\u0065\u006c\u003a`, s), console.log(`\u0064\u0065\u0074\u0061\u0069\u006c\u005f\u0074\u0069\u0074\u006c\u0065\u003a`, r);
  const u = document.querySelectorAll(`\u0023\u0064\u0065\u0074\u0061\u0069\u006c\u002d\u0064\u0065\u0073\u0063\u0020\u0073\u0070\u0061\u006e`);
  let l = ``;
  u && u.length > 0 && (l = (null == (o = u[0].textContent) ? void 0 : o.trim()) || ``), console.log(`\u0064\u0065\u0074\u0061\u0069\u006c\u005f\u0063\u006f\u006e\u0074\u0065\u006e\u0074\u005f\u0065\u006c\u0073\u003a`, u), console.log(`\u0064\u0065\u0074\u0061\u0069\u006c\u005f\u0063\u006f\u006e\u0074\u0065\u006e\u0074\u003a`, l);
  const d = document.querySelectorAll(`\u0023\u0064\u0065\u0074\u0061\u0069\u006c\u002d\u0064\u0065\u0073\u0063\u0020\u0061`);
  let g = [];
  d.forEach(e => {
    var o;
    e && e.textContent && g.push(null == (o = e.textContent) ? void 0 : o.trim());
  });
  let h = g.join(`\u0020`);
  console.log(`\u0064\u0065\u0074\u0061\u0069\u006c\u005f\u0074\u0061\u0067\u0073\u005f\u0065\u006c\u0073\u003a`, d), console.log(`\u0064\u0065\u0074\u0061\u0069\u006c\u005f\u0074\u0061\u0067\u005f\u0073\u0074\u0072\u003a`, h);
  let m = ``;
  if (i && (m = getLastPathName(new URL(i).pathname)), n.isNotRunWork()) return;
  const S = window.location.href,
    f = getLastPathName(new URL(S).pathname),
    _ = document.querySelectorAll(`\u002e\u0069\u006e\u0074\u0065\u0072\u0061\u0063\u0074\u0069\u006f\u006e\u002d\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0061\u0075\u0074\u0068\u006f\u0072\u002d\u0077\u0072\u0061\u0070\u0070\u0065\u0072\u0020\u002e\u0069\u006e\u0066\u006f\u0020\u0061`);
  let w = ``,
    v = ``;
  _ && _.length > 0 && (w = _[0].href, w && (v = getLastPathName(new URL(w).pathname))), sendLog(`\u0050\u0061\u0074\u0068\u003a\u0020` + n.userId + `\u0020\u0020` + f);
  const y = `\u0075\u0073\u0065\u0072\u005f` + n.userId + `\u005f\u0070\u0061\u0074\u0068\u005f` + f,
    b = document.querySelector(`\u006d\u0065\u0074\u0061\u005b\u006e\u0061\u006d\u0065\u003d\u0022\u006f\u0067\u003a\u0076\u0069\u0064\u0065\u006f\u0022\u005d`);
  if (await async function queryComment(e) {
    const o = a + `\u002f\u0061\u0070\u0069\u002f\u0076\u0031\u002f\u0078\u0068\u0073\u005f\u0063\u006f\u006e\u0074\u0065\u006e\u0074\u0073\u002f${e}`,
      t = {
        "Content-Type": `\u0061\u0070\u0070\u006c\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u002f\u006a\u0073\u006f\u006e`,
        Authorization: `\u0042\u0065\u0061\u0072\u0065\u0072\u0020` + n.accessToken
      };
    try {
      const e = await fetch(o, {
        method: `\u0047\u0045\u0054`,
        headers: t
      });
      if (!e.ok) {
        if (404 === e.status) {
          const o = await e.json();
          if (console.log(`\u0072\u0065\u0073\u0075\u006c\u0074`, o), sendLog(`\u67e5\u8be2\u8bc4\u8bba\u9519\u8bef\u0020\u0034\u0030\u0034` + (null == o ? void 0 : o.detail)), `\u0058\u0068\u0073\u0043\u006f\u006e\u0074\u0065\u006e\u0074\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064` == (null == o ? void 0 : o.detail)) return !0;
        }
        if (401 === e.status) sendLog(`\u767b\u5f55\u5931\u6548`), n.setAccessToken(``);else {
          const o = await e.json();
          console.log(`\u0072\u0065\u0073\u0075\u006c\u0074`, o), sendLog(`\u67e5\u8be2\u8bc4\u8bba\u9519\u8bef\u0020\u5176\u4ed6` + (null == o ? void 0 : o.detail));
        }
        return console.error(`\u0048\u0054\u0054\u0050\u0020\u0065\u0072\u0072\u006f\u0072\u0021\u0020\u0073\u0074\u0061\u0074\u0075\u0073\u003a\u0020${e.status}`, e), !1;
      }
      const i = await e.json();
      return console.log(`\u0072\u0065\u0073\u0075\u006c\u0074`, i), !1;
    } catch (i) {
      console.error(`\u0045\u0072\u0072\u006f\u0072\u003a`, i), sendLog(`\u67e5\u8be2\u8bc4\u8bba\u9519\u8bef` + i);
    }
    return !1;
  }(y)) {
    let e = null;
    if (b) {
      const o = await async function get_xiaoHongshu_send_child_comment() {
        var e;
        const o = [],
          t = document.querySelectorAll(`\u002e\u0070\u0061\u0072\u0065\u006e\u0074\u002d\u0063\u006f\u006d\u006d\u0065\u006e\u0074\u0020\u003e\u0064\u0069\u0076\u003a\u006e\u0074\u0068\u002d\u0063\u0068\u0069\u006c\u0064\u0028\u0031\u0029`);
        for (let i = 0; i < 5; i++) if (t[0]) {
          const n = t[i].querySelector(`\u002e\u0063\u006f\u006e\u0074\u0065\u006e\u0074\u0020\u002e\u006e\u006f\u0074\u0065\u002d\u0074\u0065\u0078\u0074`);
          if (n) {
            const t = null == (e = n.textContent) ? void 0 : e.trim();
            o.push(t);
          }
        }
        let n = ``;
        for (let i = 0; i < o.length; i++) n && (n += `\u000a`), n += i + 1 + `\u3001` + o[i];
        return n;
      }();
      if (sendLog(`\u56fe\u6587\u0020\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0053\u0065\u0074\u0074\u0069\u006e\u0067\u002e\u0063\u006f\u006d\u006d\u0065\u006e\u0074\u0042\u006c\u006f\u0063\u006b\u0069\u006e\u0067\u003a\u0020` + c.commentBlocking), console.log(`\u56fe\u6587\u0020\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0053\u0065\u0074\u0074\u0069\u006e\u0067\u002e\u0063\u006f\u006d\u006d\u0065\u006e\u0074\u0042\u006c\u006f\u0063\u006b\u0069\u006e\u0067\u003a\u0020` + c.commentBlocking), `\u8bc4\u8bba\u622a\u6d41` == c.commentBlocking && c.commentBlockingNum > 0) {
        const callbackFun = async () => {
          const t = {
            titles: r,
            test: l,
            tab: h,
            commentaries: o,
            style: null == c ? void 0 : c.style,
            word_limit: null == c ? void 0 : c.charLimit,
            key_message: null == c ? void 0 : c.keywordInfo
          };
          return e = await runWorkflowVideoReviews(t, []), e;
        };
        await xiaoHongshu_send_child_comment(callbackFun);
      }
      const t = {
        titles: r,
        test: l,
        tab: h,
        commentaries: o,
        style: null == c ? void 0 : c.style,
        word_limit: null == c ? void 0 : c.charLimit,
        key_message: null == c ? void 0 : c.keywordInfo
      };
      e = await runWorkflowVideoReviews(t, []);
    } else {
      sendLog(`\u6ca1\u6709\u914d\u7f6e\u0020\u0073\u0074\u0079\u006c\u0065\u0020` + (null == c ? void 0 : c.style) + `\u0020` + (null == c ? void 0 : c.charLimit) + `\u0020` + (null == c ? void 0 : c.keywordInfo));
      const o = {
          title: r,
          text: l,
          label: h,
          style: null == c ? void 0 : c.style,
          word_limit: null == c ? void 0 : c.charLimit,
          key_message: null == c ? void 0 : c.keywordInfo
        },
        t = [];
      if (i && t.push({
        type: `\u0069\u006d\u0061\u0067\u0065`,
        transfer_method: `\u0072\u0065\u006d\u006f\u0074\u0065\u005f\u0075\u0072\u006c`,
        url: i
      }), sendLog(`\u56fe\u6587\u0020\u0058\u0069\u0061\u006f\u0048\u006f\u006e\u0067\u0053\u0068\u0075\u005f\u0053\u0065\u0074\u0074\u0069\u006e\u0067\u002e\u0063\u006f\u006d\u006d\u0065\u006e\u0074\u0042\u006c\u006f\u0063\u006b\u0069\u006e\u0067\uff1a` + c.commentBlocking), `\u8bc4\u8bba\u622a\u6d41` == c.commentBlocking && c.commentBlockingNum > 0) {
        const callbackFun = async () => (e = await runWorkflow(o, t), e);
        await xiaoHongshu_send_child_comment(callbackFun);
      }
      e = await runWorkflow(o, t);
    }
    if (sendLog(`\u0072\u0065\u0073\u0075\u006c\u0074\u003a\u0020` + e), e) {
      const o = {
        refer_id: y,
        title: r,
        text: l,
        label: h,
        style: null == c ? void 0 : c.style,
        word_limit: null == c ? void 0 : c.charLimit,
        key_message: null == c ? void 0 : c.keywordInfo,
        note_url: S,
        note_id: f,
        comment_user_url: w,
        comment_user_id: v,
        extra_image_id: m,
        extra_image_url: i,
        replyComment: e,
        userId: n.userId
      };
      await async function xiaoHongshu_send_comments(e, o) {
        var t;
        if (!(await checkDomPromise(`\u002e\u0063\u006f\u006e\u0074\u0065\u006e\u0074\u002d\u0065\u0064\u0069\u0074\u0020\u0064\u0069\u0076\u0020\u0064\u0069\u0076\u0020\u0073\u0070\u0061\u006e`))) return void console.error(`\u6ca1\u6709\u627e\u5230`, `\u002e\u0063\u006f\u006e\u0074\u0065\u006e\u0074\u002d\u0065\u0064\u0069\u0074\u0020\u0064\u0069\u0076\u0020\u0064\u0069\u0076\u0020\u0073\u0070\u0061\u006e`);
        if (n.isNotRunWork()) return;
        const i = document.querySelector(`\u002e\u0063\u006f\u006e\u0074\u0065\u006e\u0074\u002d\u0065\u0064\u0069\u0074\u0020\u0064\u0069\u0076\u0020\u0064\u0069\u0076\u0020\u0073\u0070\u0061\u006e`);
        if (!i) return void console.error(`\u6ca1\u6709\u627e\u5230\u8f93\u5165\u8bc4\u8bba\u7684\u8f93\u5165\u6846`);
        let s = new MouseEvent(`\u0063\u006c\u0069\u0063\u006b`, {
          view: window,
          bubbles: !0,
          cancelable: !0
        });
        if (null == i || i.dispatchEvent(s), await delay(getRandomNumberInRange(1e3, 5e3)), n.isNotRunWork()) return;
        if (!(await checkDomPromise(`\u0023\u0063\u006f\u006e\u0074\u0065\u006e\u0074\u002d\u0074\u0065\u0078\u0074\u0061\u0072\u0065\u0061`))) return void console.error(`\u6ca1\u6709\u627e\u5230`, `\u0023\u0063\u006f\u006e\u0074\u0065\u006e\u0074\u002d\u0074\u0065\u0078\u0074\u0061\u0072\u0065\u0061`);
        const r = document.querySelector(`\u0023\u0063\u006f\u006e\u0074\u0065\u006e\u0074\u002d\u0074\u0065\u0078\u0074\u0061\u0072\u0065\u0061`);
        if (!r) return void console.error(`\u6ca1\u6709\u627e\u5230\u8f93\u5165\u6846`);
        if (console.log(`\u589e\u52a0\u8bc4\u8bba\u540e\u7f00\u4fe1\u606f`, null == c ? void 0 : c.commentSuffix), (null == c ? void 0 : c.commentSuffix) && (console.log(`\u589e\u52a0\u8bc4\u8bba\u540e\u7f00\u4fe1\u606f`, null == c ? void 0 : c.commentSuffix), e += `\u000d\u000a` + (null == c ? void 0 : c.commentSuffix)), await simulateInput(e, r), await delay(getRandomNumberInRange(1e3, 5e3)), n.isNotRunWork()) return;
        for (let n = 0; n < 60 && document.querySelector(`\u002e\u0062\u0074\u006e\u002e\u0073\u0075\u0062\u006d\u0069\u0074\u002e\u0067\u0072\u0061\u0079`); n++) await delay(1e3);
        const u = document.querySelector(`\u002e\u0062\u0074\u006e\u002e\u0073\u0075\u0062\u006d\u0069\u0074`);
        if (!u) return void console.error(`\u70b9\u51fb\u53d1\u8868\u8bc4\u8bba\u5931\u8d25`);
        if (s = new MouseEvent(`\u0063\u006c\u0069\u0063\u006b`, {
          view: window,
          bubbles: !0,
          cancelable: !0
        }), null == u || u.dispatchEvent(s), !(await checkDomPromise(`\u002e\u0072\u0065\u0064\u0073\u002d\u0074\u006f\u0061\u0073\u0074\u002d\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0072\u0065\u0064\u0073\u002d\u0074\u006f\u0061\u0073\u0074\u002e\u0063\u0065\u006e\u0074\u0065\u0072`, 60, 500))) return void console.error(`\u6ca1\u6709\u627e\u5230`, `\u002e\u0072\u0065\u0064\u0073\u002d\u0074\u006f\u0061\u0073\u0074\u002d\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0072\u0065\u0064\u0073\u002d\u0074\u006f\u0061\u0073\u0074\u002e\u0063\u0065\u006e\u0074\u0065\u0072`);
        const l = document.querySelector(`\u002e\u0072\u0065\u0064\u0073\u002d\u0074\u006f\u0061\u0073\u0074\u002d\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0072\u0065\u0064\u0073\u002d\u0074\u006f\u0061\u0073\u0074\u002e\u0063\u0065\u006e\u0074\u0065\u0072`);
        if (!l) return void console.error(`\u70b9\u51fb\u53d1\u8868\u8bc4\u8bba\u5931\u8d25\u0032`);
        let d = (null == (t = l.textContent) ? void 0 : t.trim()) || ``;
        if (d) {
          switch (d) {
            case `\u4f5c\u8005\u53ea\u5141\u8bb8\u597d\u53cb\u8bc4\u8bba`:
              console.error(`\u4f5c\u8005\u53ea\u5141\u8bb8\u597d\u53cb\u8bc4\u8bba`);
              break;
            case `\u8bc4\u8bba\u6210\u529f`:
              n.increment_XiaoHongShu_CommentCount(), console.log(`\u8bc4\u8bba\u6210\u529f`), await async function saveComment(e) {
                const o = a + `\u002f\u0061\u0070\u0069\u002f\u0076\u0031\u002f\u0078\u0068\u0073\u005f\u0063\u006f\u006e\u0074\u0065\u006e\u0074\u0073`,
                  t = {
                    "Content-Type": `\u0061\u0070\u0070\u006c\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u002f\u006a\u0073\u006f\u006e`,
                    Authorization: `\u0042\u0065\u0061\u0072\u0065\u0072\u0020` + n.accessToken
                  };
                try {
                  const i = await fetch(o, {
                    method: `\u0050\u004f\u0053\u0054`,
                    headers: t,
                    body: JSON.stringify({
                      data: e
                    })
                  });
                  if (!i.ok) {
                    if (console.error(`\u0048\u0054\u0054\u0050\u0020\u0065\u0072\u0072\u006f\u0072\u0021\u0020\u0073\u0074\u0061\u0074\u0075\u0073\u003a\u0020${i.status}`, i), 401 === i.status) sendLog(`\u767b\u5f55\u5931\u6548`), n.setAccessToken(``);else {
                      const e = await i.json();
                      console.log(`\u0072\u0065\u0073\u0075\u006c\u0074`, e), sendLog(`\u4fdd\u5b58\u8bc4\u8bba\u9519\u8bef\u0020\u5176\u4ed6` + (null == e ? void 0 : e.detail));
                    }
                    return !1;
                  }
                  const a = await i.json();
                  return console.log(`\u0072\u0065\u0073\u0075\u006c\u0074`, a), !0;
                } catch (i) {
                  console.error(`\u0045\u0072\u0072\u006f\u0072\u003a`, i), sendLog(`\u4fdd\u5b58\u8bc4\u8bba\u9519\u8bef` + i);
                }
                return !1;
              }(o);
              break;
            default:
              console.error(`\u0072\u0065\u0073\u0070\u006f\u006e\u0073\u0065\u005f\u0074\u0065\u0078\u0074`);
          }
          await delay(getRandomNumberInRange(1e3, 5e3));
        } else console.error(`\u70b9\u51fb\u53d1\u8868\u8bc4\u8bba\u5931\u8d25\u0020\u6587\u672c\u4e3a\u7a7a`);
      }(e, o);
    }
  } else console.log(`\u5df2\u8bc4\u8bba\u8fc7\u3002\u8df3\u8fc7`);
}
async function xiaoHongshu_send_child_comment(e) {
  var o;
  const t = null == (o = document.querySelectorAll(`\u002e\u0063\u0068\u0061\u0074\u002d\u0077\u0072\u0061\u0070\u0070\u0065\u0072\u0020\u002e\u0063\u006f\u0075\u006e\u0074`)[0].textContent) ? void 0 : o.trim();
  if (console.log(`\u0063\u0068\u0061\u0074\u0057\u0072\u0061\u0070\u0070\u0065\u0072\u0043\u006f\u0075\u006e\u0074\u0053\u0074\u0072`, t), t) {
    let o = parseInt(t);
    if (c.commentBlockingNum < o) {
      console.log(`\u0063\u0068\u0061\u0074\u0057\u0072\u0061\u0070\u0070\u0065\u0072\u0043\u006f\u0075\u006e\u0074`, o);
      const t = document.querySelectorAll(`\u002e\u0070\u0061\u0072\u0065\u006e\u0074\u002d\u0063\u006f\u006d\u006d\u0065\u006e\u0074\u0020\u003e\u0064\u0069\u0076\u003a\u006e\u0074\u0068\u002d\u0063\u0068\u0069\u006c\u0064\u0028\u0031\u0029`);
      for (let o = 0; o < 3; o++) if (t[0]) {
        const n = t[o].querySelector(`\u002e\u0070\u0061\u0072\u0065\u006e\u0074\u002d\u0063\u006f\u006d\u006d\u0065\u006e\u0074\u0020\u003e\u0064\u0069\u0076\u003a\u006e\u0074\u0068\u002d\u0063\u0068\u0069\u006c\u0064\u0028\u0031\u0029\u0020\u002e\u0072\u0065\u0070\u006c\u0079`);
        if (n) {
          ensureElementVisible(n);
          let o = new MouseEvent(`\u0063\u006c\u0069\u0063\u006b`, {
            view: window,
            bubbles: !0,
            cancelable: !0
          });
          null == n || n.dispatchEvent(o);
          let t = await e();
          await xiaoHongshu_send_comments2(t);
        }
      }
    }
  }
}
async function xiaoHongshu_send_comments2(e) {
  var o;
  if (!e) return;
  if (n.isNotRunWork()) return;
  if (!(await checkDomPromise(`\u0023\u0063\u006f\u006e\u0074\u0065\u006e\u0074\u002d\u0074\u0065\u0078\u0074\u0061\u0072\u0065\u0061`))) return void console.error(`\u6ca1\u6709\u627e\u5230`, `\u0023\u0063\u006f\u006e\u0074\u0065\u006e\u0074\u002d\u0074\u0065\u0078\u0074\u0061\u0072\u0065\u0061`);
  const t = document.querySelector(`\u0023\u0063\u006f\u006e\u0074\u0065\u006e\u0074\u002d\u0074\u0065\u0078\u0074\u0061\u0072\u0065\u0061`);
  if (!t) return void console.error(`\u6ca1\u6709\u627e\u5230\u8f93\u5165\u6846`);
  if (console.log(`\u589e\u52a0\u8bc4\u8bba\u540e\u7f00\u4fe1\u606f`, null == c ? void 0 : c.commentSuffix), (null == c ? void 0 : c.commentSuffix) && (console.log(`\u589e\u52a0\u8bc4\u8bba\u540e\u7f00\u4fe1\u606f`, null == c ? void 0 : c.commentSuffix), e += `\u000d\u000a` + (null == c ? void 0 : c.commentSuffix)), await simulateInput(e, t), await delay(getRandomNumberInRange(1e3, 5e3)), n.isNotRunWork()) return;
  for (let n = 0; n < 60 && document.querySelector(`\u002e\u0062\u0074\u006e\u002e\u0073\u0075\u0062\u006d\u0069\u0074\u002e\u0067\u0072\u0061\u0079`); n++) await delay(1e3);
  const i = document.querySelector(`\u002e\u0062\u0074\u006e\u002e\u0073\u0075\u0062\u006d\u0069\u0074`);
  if (!i) return void console.error(`\u70b9\u51fb\u53d1\u8868\u8bc4\u8bba\u5931\u8d25`);
  if (event = new MouseEvent(`\u0063\u006c\u0069\u0063\u006b`, {
    view: window,
    bubbles: !0,
    cancelable: !0
  }), null == i || i.dispatchEvent(event), !(await checkDomPromise(`\u002e\u0072\u0065\u0064\u0073\u002d\u0074\u006f\u0061\u0073\u0074\u002d\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0072\u0065\u0064\u0073\u002d\u0074\u006f\u0061\u0073\u0074\u002e\u0063\u0065\u006e\u0074\u0065\u0072`, 60, 500))) return void console.error(`\u6ca1\u6709\u627e\u5230`, `\u002e\u0072\u0065\u0064\u0073\u002d\u0074\u006f\u0061\u0073\u0074\u002d\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0072\u0065\u0064\u0073\u002d\u0074\u006f\u0061\u0073\u0074\u002e\u0063\u0065\u006e\u0074\u0065\u0072`);
  const a = document.querySelector(`\u002e\u0072\u0065\u0064\u0073\u002d\u0074\u006f\u0061\u0073\u0074\u002d\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0072\u0065\u0064\u0073\u002d\u0074\u006f\u0061\u0073\u0074\u002e\u0063\u0065\u006e\u0074\u0065\u0072`);
  if (!a) return void console.error(`\u70b9\u51fb\u53d1\u8868\u8bc4\u8bba\u5931\u8d25\u0032`);
  let s = (null == (o = a.textContent) ? void 0 : o.trim()) || ``;
  if (s) {
    switch (s) {
      case `\u4f5c\u8005\u53ea\u5141\u8bb8\u597d\u53cb\u8bc4\u8bba`:
        console.error(`\u4f5c\u8005\u53ea\u5141\u8bb8\u597d\u53cb\u8bc4\u8bba`);
        break;
      case `\u8bc4\u8bba\u6210\u529f`:
        n.increment_XiaoHongShu_CommentCount(), console.log(`\u8bc4\u8bba\u6210\u529f`);
        break;
      default:
        console.error(`\u0072\u0065\u0073\u0070\u006f\u006e\u0073\u0065\u005f\u0074\u0065\u0078\u0074`);
    }
    await delay(getRandomNumberInRange(1e3, 5e3));
  } else console.error(`\u70b9\u51fb\u53d1\u8868\u8bc4\u8bba\u5931\u8d25\u0020\u6587\u672c\u4e3a\u7a7a`);
}
async function xiaoHongShu_clickCommentLike() {
  if (n.isNotRunWork()) return;
  if (!(null == c ? void 0 : c.like)) return void console.log(`\u4e0d\u9700\u8981\u70b9\u8d5e`);
  if (!(await checkDomPromise(`\u0023\u006e\u006f\u0074\u0065\u0043\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0069\u006e\u0074\u0065\u0072\u0061\u0063\u0074\u0069\u006f\u006e\u0073\u002e\u0065\u006e\u0067\u0061\u0067\u0065\u002d\u0062\u0061\u0072\u0020\u002e\u006c\u0069\u006b\u0065\u002d\u0077\u0072\u0061\u0070\u0070\u0065\u0072\u002e\u006c\u0069\u006b\u0065\u002d\u0061\u0063\u0074\u0069\u0076\u0065`))) return void console.error(`\u6ca1\u6709\u627e\u5230`, `\u0023\u006e\u006f\u0074\u0065\u0043\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0069\u006e\u0074\u0065\u0072\u0061\u0063\u0074\u0069\u006f\u006e\u0073\u002e\u0065\u006e\u0067\u0061\u0067\u0065\u002d\u0062\u0061\u0072\u0020\u002e\u006c\u0069\u006b\u0065\u002d\u0077\u0072\u0061\u0070\u0070\u0065\u0072\u002e\u006c\u0069\u006b\u0065\u002d\u0061\u0063\u0074\u0069\u0076\u0065`);
  if (n.isNotRunWork()) return;
  const e = document.querySelector(`\u0023\u006e\u006f\u0074\u0065\u0043\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0069\u006e\u0074\u0065\u0072\u0061\u0063\u0074\u0069\u006f\u006e\u0073\u002e\u0065\u006e\u0067\u0061\u0067\u0065\u002d\u0062\u0061\u0072\u0020\u002e\u006c\u0069\u006b\u0065\u002d\u0077\u0072\u0061\u0070\u0070\u0065\u0072\u002e\u006c\u0069\u006b\u0065\u002d\u0061\u0063\u0074\u0069\u0076\u0065`);
  if (!e) return void console.error(`\u6ca1\u6709\u627e\u5230\u70b9\u8d5e\u7684\u6807\u7b7e`);
  const o = e.querySelector(`\u0023\u006e\u006f\u0074\u0065\u0043\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0069\u006e\u0074\u0065\u0072\u0061\u0063\u0074\u0069\u006f\u006e\u0073\u002e\u0065\u006e\u0067\u0061\u0067\u0065\u002d\u0062\u0061\u0072\u0020\u002e\u006c\u0069\u006b\u0065\u002d\u0077\u0072\u0061\u0070\u0070\u0065\u0072\u002e\u006c\u0069\u006b\u0065\u002d\u0061\u0063\u0074\u0069\u0076\u0065\u0020\u0075\u0073\u0065`);
  if (!o) return void console.error(`\u6ca1\u6709\u627e\u5230\u70b9\u8d5e\u7684\u6807\u7b7e\u0020\u7684\u56fe\u6807`);
  const t = o.getAttribute(`\u0078\u006c\u0069\u006e\u006b\u003a\u0068\u0072\u0065\u0066`);
  if (console.log(`\u0054\u0068\u0065\u0020\u0075\u0073\u0065\u0020\u0074\u0061\u0067\u0020\u0020${t}`), `\u0023\u006c\u0069\u006b\u0065\u0064` === t) return void console.log(`\u5df2\u7ecf\u70b9\u8d5e\u8fc7\u4e86`);
  if (`\u0023\u006c\u0069\u006b\u0065` !== t) return void console.error(`\u627e\u5230\u7684\u56fe\u6807\u6709\u9519\u8bef`);
  const i = new MouseEvent(`\u0063\u006c\u0069\u0063\u006b`, {
    view: window,
    bubbles: !0,
    cancelable: !0
  });
  null == e || e.dispatchEvent(i), n.increment_XiaoHongShu_likeCount(), await delay(getRandomNumberInRange(1e3, 5e3));
}
async function xiaoHongShu_follow_click() {
  if (n.isNotRunWork()) return;
  if (!(null == c ? void 0 : c.follow)) return void console.log(`\u4e0d\u9700\u8981\u5173\u6ce8`);
  if (!(await checkDomPromise(`\u0023\u006e\u006f\u0074\u0065\u0043\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0069\u006e\u0074\u0065\u0072\u0061\u0063\u0074\u0069\u006f\u006e\u002d\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0066\u006f\u006c\u006c\u006f\u0077\u002d\u0062\u0075\u0074\u0074\u006f\u006e`))) return void console.error(`\u6ca1\u6709\u627e\u5230`, `\u0023\u006e\u006f\u0074\u0065\u0043\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0069\u006e\u0074\u0065\u0072\u0061\u0063\u0074\u0069\u006f\u006e\u002d\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0066\u006f\u006c\u006c\u006f\u0077\u002d\u0062\u0075\u0074\u0074\u006f\u006e`);
  if (n.isNotRunWork()) return;
  const e = document.querySelector(`\u0023\u006e\u006f\u0074\u0065\u0043\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0069\u006e\u0074\u0065\u0072\u0061\u0063\u0074\u0069\u006f\u006e\u002d\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0066\u006f\u006c\u006c\u006f\u0077\u002d\u0062\u0075\u0074\u0074\u006f\u006e`);
  if (!e) return void console.error(`\u6ca1\u6709\u627e\u5230\u0020\u5173\u6ce8\u7684\u6309\u94ae`);
  if (document.querySelector(`\u0023\u006e\u006f\u0074\u0065\u0043\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0069\u006e\u0074\u0065\u0072\u0061\u0063\u0074\u0069\u006f\u006e\u002d\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0066\u006f\u006c\u006c\u006f\u0077\u002d\u0062\u0075\u0074\u0074\u006f\u006e\u002e\u006f\u0075\u0074\u006c\u0069\u006e\u0065\u0064`)) return void console.error(`\u5df2\u5173\u6ce8\u4e86\uff0c\u4e0d\u9700\u8981\u91cd\u590d\u5173\u6ce8`);
  const o = new MouseEvent(`\u0063\u006c\u0069\u0063\u006b`, {
    view: window,
    bubbles: !0,
    cancelable: !0
  });
  null == e || e.dispatchEvent(o), n.increment_XiaoHongShu_followCount(), await delay(getRandomNumberInRange(1e3, 5e3));
}
async function xiaoHongShu_collect_click() {
  if (n.isNotRunWork()) return;
  if (!(null == c ? void 0 : c.collect)) return void console.log(`\u4e0d\u9700\u8981\u6536\u85cf`);
  if (!(await checkDomPromise(`\u0023\u006e\u006f\u0074\u0065\u0043\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0069\u006e\u0074\u0065\u0072\u0061\u0063\u0074\u0069\u006f\u006e\u0073\u002e\u0065\u006e\u0067\u0061\u0067\u0065\u002d\u0062\u0061\u0072\u0020\u002e\u0063\u006f\u006c\u006c\u0065\u0063\u0074\u002d\u0077\u0072\u0061\u0070\u0070\u0065\u0072`))) return void console.error(`\u6ca1\u6709\u627e\u5230`, `\u0023\u006e\u006f\u0074\u0065\u0043\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0069\u006e\u0074\u0065\u0072\u0061\u0063\u0074\u0069\u006f\u006e\u0073\u002e\u0065\u006e\u0067\u0061\u0067\u0065\u002d\u0062\u0061\u0072\u0020\u002e\u0063\u006f\u006c\u006c\u0065\u0063\u0074\u002d\u0077\u0072\u0061\u0070\u0070\u0065\u0072`);
  if (n.isNotRunWork()) return;
  const e = document.querySelector(`\u0023\u006e\u006f\u0074\u0065\u0043\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0069\u006e\u0074\u0065\u0072\u0061\u0063\u0074\u0069\u006f\u006e\u0073\u002e\u0065\u006e\u0067\u0061\u0067\u0065\u002d\u0062\u0061\u0072\u0020\u002e\u0063\u006f\u006c\u006c\u0065\u0063\u0074\u002d\u0077\u0072\u0061\u0070\u0070\u0065\u0072`);
  if (!e) return void console.error(`\u6ca1\u6709\u627e\u5230\u70b9\u8d5e\u7684\u6807\u7b7e`);
  const o = e.querySelector(`\u0023\u006e\u006f\u0074\u0065\u0043\u006f\u006e\u0074\u0061\u0069\u006e\u0065\u0072\u0020\u002e\u0069\u006e\u0074\u0065\u0072\u0061\u0063\u0074\u0069\u006f\u006e\u0073\u002e\u0065\u006e\u0067\u0061\u0067\u0065\u002d\u0062\u0061\u0072\u0020\u002e\u0063\u006f\u006c\u006c\u0065\u0063\u0074\u002d\u0077\u0072\u0061\u0070\u0070\u0065\u0072\u0020\u0075\u0073\u0065`);
  if (!o) return void console.error(`\u6ca1\u6709\u627e\u5230\u70b9\u8d5e\u7684\u6807\u7b7e\u0020\u7684\u56fe\u6807`);
  const t = o.getAttribute(`\u0078\u006c\u0069\u006e\u006b\u003a\u0068\u0072\u0065\u0066`);
  if (console.log(`\u0054\u0068\u0065\u0020\u0075\u0073\u0065\u0020\u0074\u0061\u0067\u0020\u0020${t}`), `\u0023\u0063\u006f\u006c\u006c\u0065\u0063\u0074\u0065\u0064` === t) return void console.log(`\u5df2\u7ecf\u6536\u85cf\u8fc7\u4e86`);
  if (`\u0023\u0063\u006f\u006c\u006c\u0065\u0063\u0074` !== t) return void console.error(`\u627e\u5230\u7684\u56fe\u6807\u6709\u9519\u8bef`);
  const i = new MouseEvent(`\u0063\u006c\u0069\u0063\u006b`, {
    view: window,
    bubbles: !0,
    cancelable: !0
  });
  null == e || e.dispatchEvent(i), n.increment_XiaoHongShu_collectCount(), await delay(getRandomNumberInRange(1e3, 5e3));
}